window.__require=function t(e,o,n){function i(a,s){if(!o[a]){if(!e[a]){var c=a.split("/");if(c=c[c.length-1],!e[c]){var p="function"==typeof __require&&__require;if(!s&&p)return p(c,!0);if(r)return r(c,!0);throw new Error("Cannot find module '"+a+"'")}a=c}var u=o[a]={exports:{}};e[a][0].call(u.exports,function(t){return i(e[a][1][t]||t)},u,u.exports,t,e,o,n)}return o[a].exports}for(var r="function"==typeof __require&&__require,a=0;a<n.length;a++)i(n[a]);return i}({AnalyticsManager:[function(t,e,o){"use strict";cc._RF.push(e,"e98eaVwcAdAN5lEjgCjdPur","AnalyticsManager");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.AnalyticsManager=void 0;var r=cc._decorator,a=r.ccclass,s=(r.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var o;return n(e,t),o=e,e.getChannel=function(){return""===o._channel&&(cc.sys.platform===cc.sys.MOBILE_BROWSER||cc.sys.platform===cc.sys.DESKTOP_BROWSER||cc.sys.platform===cc.sys.EDITOR_PAGE||cc.sys.platform===cc.sys.EDITOR_CORE?o._channel="debug":cc.sys.platform===cc.sys.WECHAT_GAME?o._channel="wechat":o._channel="other"),o._channel},e.init=function(){},e.login=function(){"debug"!=o._channel&&(cocosAnalytics.enableDebug(!0),cocosAnalytics.CAAccount.loginStart({channel:o.getChannel()}),cocosAnalytics.CAAccount.loginSuccess({userID:"default",age:1,sex:1,channel:o.getChannel()}))},e.logout=function(){"debug"!=o._channel&&cocosAnalytics.CAAccount.logout()},e.pay=function(){o._channel},e.virtualGet=function(t,e,n,i){void 0===n&&(n="\u94bb\u77f3"),void 0===i&&(i=""),"debug"!=o._channel&&(cocosAnalytics.CAVirtual.get({type:n,count:t,reason:i}),cocosAnalytics.CAVirtual.setVirtualNum({type:n,count:e}))},e.virtualConsume=function(t,e,n,i){void 0===n&&(n="\u94bb\u77f3"),void 0===i&&(i=""),"debug"!=o._channel&&(cocosAnalytics.CAVirtual.consume({type:n,count:t,reason:i}),cocosAnalytics.CAVirtual.setVirtualNum({type:n,count:e}))},e.levelStart=function(t){"debug"!=o._channel&&cocosAnalytics.CALevels.begin({level:t})},e.levelComplete=function(t){"debug"!=o._channel&&cocosAnalytics.CALevels.complete({level:t})},e.levelFailed=function(t,e){void 0===e&&(e=""),"debug"!=o._channel&&cocosAnalytics.CALevels.failed({level:t,reason:e})},e.videoADStart=function(t){"debug"!=o._channel&&cocosAnalytics.CAAdvertising.begin({adID:t})},e.videoADComplete=function(t,e,n){"debug"!=o._channel&&cocosAnalytics.CAAdvertising.complete({adID:t,timeLong:e,profit:n})},e.videoADFailed=function(t,e){"debug"!=o._channel&&cocosAnalytics.CAAdvertising.failed({adID:t,reason:e})},e.customEvent=function(t,e){"debug"!=o._channel&&cocosAnalytics.CACustomEvent.onStarted(t,e)},e.clickEvent=function(t){"debug"!=o._channel&&cocosAnalytics.CACustomEvent.onStarted("click-"+t,{})},e._channel="",e=o=i([a],e)}(cc.Component));o.AnalyticsManager=s,cc._RF.pop()},{}],BDChannel:[function(t,e,o){"use strict";cc._RF.push(e,"c344fHsPLNGi6PHeLlbxSr/","BDChannel");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var i=t("../base/BaseChannel"),r=t("./BDRewardAd"),a=t("./BDSubPackage"),s=t("./BDScreenshot"),c=function(t){function e(e){var o=t.call(this,e)||this;return swan.onShow(function(){}),swan.onHide(function(){}),swan.createRewardedVideoAd&&(o.rewardAd=new r.default(o)),o.subPackage=new a.default(o),o.screenshot=new s.default(o),o}return n(e,t),e.prototype.vibrateShort=function(){swan.vibrateShort()},e.prototype.showToast=function(t){swan.showToast({title:t})},e.prototype.previewImage=function(t){swan.previewImage({current:t,urls:[t]})},e.prototype.navigateToMiniProgram=function(t){swan.navigateToMiniProgram({appKey:t,success:function(){console.log(" jump ok")},fail:function(){console.log(" jump fail")}})},e}(i.default);o.default=c,cc._RF.pop()},{"../base/BaseChannel":"BaseChannel","./BDRewardAd":"BDRewardAd","./BDScreenshot":"BDScreenshot","./BDSubPackage":"BDSubPackage"}],BDRewardAd:[function(t,e,o){"use strict";cc._RF.push(e,"5edf5YXpZlP5r7oHRk4gluw","BDRewardAd");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var i=t("../base/BaseAd"),r=t("../SDKConfig"),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.loadCount=0,e}return n(e,t),e.prototype.open=function(t,e){console.log(" showReward adID ",t),this.state!=r.SDKState.loading&&(this.callback=e,this.setState(r.SDKState.loading),this.adUnitID!=t?(this.adUnitID=t,this.create(t)):this.show())},e.prototype.show=function(){var t=this;this.instance?this.instance.show().then(function(){t.setState(r.SDKState.open),console.log(" \u6fc0\u52b1\u89c6\u9891\u5c55\u793a\u6210\u529f ")}).catch(function(){console.log(" show  \u6fc0\u52b1\u89c6\u9891 \u64ad\u653e\u5931\u8d25\u91cd\u8bd5"),t.instance.load().then(function(){t.instance.show(),t.setState(r.SDKState.open)}).catch(function(e){console.log(" \u6fc0\u52b1\u89c6\u9891\u91cd\u8bd5\u5931\u8d25 err ",e),t.setState(r.SDKState.loadFail),t.channel.showShare(0,t.callback)})}):this.callback(r.ResultState.NO)},e.prototype.create=function(t){this.adUnitID=t,this.instance||(console.log("createVideoAd id ",t),this.instance=swan.createRewardedVideoAd({adUnitId:t,appSid:"bfbff884"}),this.instance.onLoad(this.onLoad.bind(this)),this.instance.onError(this.onError.bind(this)),this.instance.onClose(this.onClose.bind(this)))},e.prototype.onError=function(t){console.log("BDRewardAd error ",t),this.setState(r.SDKState.loadFail),this.callback&&this.callback(r.ResultState.NO)},e.prototype.onLoad=function(){console.log("\u89c6\u9891\u52a0\u8f7d\u6210\u529f ",this.loadCount),0==this.loadCount&&(this.instance.show(),this.setState(r.SDKState.loadSucess)),this.loadCount++},e.prototype.onClose=function(t){this.setState(r.SDKState.close),t&&t.isEnded||void 0===t?(console.log("\u89c6\u9891\u7ed3\u675f\u5173\u95ed "),this.callback&&this.callback(r.ResultState.YES)):(console.log("\u89c6\u9891\u4e2d\u9014\u5173\u95ed "),this.callback&&this.callback(r.ResultState.NO))},e}(i.default);o.default=a,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../base/BaseAd":"BaseAd"}],BDScreenshot:[function(t,e,o){"use strict";cc._RF.push(e,"8833eWftKNISLLGT2kugk3y","BDScreenshot");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.showImage=function(t){this.channel.previewImage(t)},e.prototype.createImage=function(){console.log(" createImage ");var t=this.getCanvas();return{x:0,y:0,width:t.width,height:t.height,destWidth:t.width,destHeight:t.height,fileType:"png",quality:1}},e.prototype.saveFile=function(t,e){var o=this;console.log(" saveFile data ",t,e);var n=this.getCanvas();if(n.toTempFilePathSync){var i=n.toTempFilePathSync(t);console.log(" _tempFilePath ",i),swan.saveImageToPhotosAlbum({filePath:i,success:function(t){console.log("Capture file success!"+i,t),e&&o.showImage(i)}})}},e}(t("../base/BaseScreenshot").default);o.default=i,cc._RF.pop()},{"../base/BaseScreenshot":"BaseScreenshot"}],BDSubPackage:[function(t,e,o){"use strict";cc._RF.push(e,"e66aeVyDzJEJJsoIlJX/ZM0","BDSubPackage");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var i=t("../base/BaseSubPackage"),r=t("../SDKConfig"),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.loadSingle=function(t,e){wx.loadSubpackage({name:t,success:function(t){e(r.ResultState.YES,null)},fail:function(t){e(r.ResultState.NO,null)}}).onProgressUpdate(function(t){e(r.ResultState.PROGRESS,t.progress)})},e}(i.default);o.default=a,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../base/BaseSubPackage":"BaseSubPackage"}],BannerAdComp:[function(t,e,o){"use strict";cc._RF.push(e,"da5554xQDNN06YPcLNHIdI8","BannerAdComp");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../SDKManager"),a=cc._decorator,s=a.ccclass,c=a.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.adSite=0,e}return n(e,t),e.prototype.onLoad=function(){this.node.active=r.default.getChannel().hasBanner(),this.node.active&&r.default.getChannel().showBanner(this.adSite)},e.prototype.onDestroy=function(){r.default.getChannel().hideBanner()},i([c],e.prototype,"adSite",void 0),e=i([s],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../SDKManager":"SDKManager"}],BannerView:[function(t,e,o){"use strict";cc._RF.push(e,"172e2zdf1hHWrlM4ny5+opr","BannerView");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,s=r.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="hello",e}return n(e,t),e.prototype.start=function(){},e.prototype.onButtonBackClick=function(){this.node.destroy()},i([s(cc.Label)],e.prototype,"label",void 0),i([s],e.prototype,"text",void 0),e=i([a],e)}(cc.Component);o.default=c,cc._RF.pop()},{}],BaseAd:[function(t,e,o){"use strict";cc._RF.push(e,"ea138DvGXFFKYrZjdreh9jN","BaseAd"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../SDKConfig"),i=function(){function t(t){this.state=n.SDKState.close,this.adUnitID="",this.logicState=n.SDKState.open,this.instance=null,this.instanceMap={},this.clickCount=0,this.showCount=0,this.channel=t}return t.prototype.setState=function(t){this.state=t},t.prototype.getState=function(){return this.state},t.prototype.close=function(){},t.prototype.reportAdClick=function(t){},t.prototype.reportAdShow=function(t){},t}();o.default=i,cc._RF.pop()},{"../SDKConfig":"SDKConfig"}],BaseChannel:[function(t,e,o){"use strict";cc._RF.push(e,"36132I/b2FI2YNTWY0/RoWQ","BaseChannel"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../SDKConfig"),i=function(){function t(t){this.channelID=0,this.rewardAd=null,this.bannerAd=null,this.insertAd=null,this.share=null,this.subPackage=null,this.nativeAd=null,this.appBoxAd=null,this.loginMgr=null,this.recorder=null,this.screenshot=null,this.channelID=t,this.configData=n.SDKConfig[this.channelID]}return t.prototype.hasParam=function(t){var e=this.configData[t];return void 0!=e&&null!=e&&(!Array.isArray(e)||e.length>0)},t.prototype.getParam=function(t,e){var o=this.configData[e];return o.length>0?o.length>t?o[t]:o[0]:null},t.prototype.hasBanner=function(){return this.hasParam(n.ADName.banner)&&null!=this.bannerAd},t.prototype.showBanner=function(t){if(this.hasBanner()){var e=this.getParam(t,n.ADName.banner);e&&this.bannerAd.open(e)}},t.prototype.hideBanner=function(){this.hasBanner()&&this.bannerAd.close()},t.prototype.hasInsertAd=function(){return this.hasParam(n.ADName.insert)&&null!=this.insertAd},t.prototype.showInsertAd=function(t){if(this.hasInsertAd()){var e=this.getParam(t,n.ADName.insert);e&&this.insertAd.open(e)}},t.prototype.hasRewardAd=function(){return this.hasParam(n.ADName.reward)&&null!=this.rewardAd},t.prototype.showRewardAd=function(t,e){if(this.hasRewardAd()){var o=this.getParam(t,n.ADName.reward);o&&this.rewardAd.open(o,e)}},t.prototype.hasShare=function(){return null!=this.share},t.prototype.showShare=function(t,e,o){this.hasShare()&&this.share.share(t,e,o)},t.prototype.vibrateShort=function(){},t.prototype.previewImage=function(t){},t.prototype.navigateToMiniProgram=function(t){},t.prototype.hasLogin=function(){return!n.isNull(this.loginMgr)},t.prototype.login=function(t,e){this.hasLogin()?this.loginMgr.login(t,e):e(n.ResultState.YES)},t.prototype.getUserInfo=function(t,e,o){this.hasLogin()&&this.loginMgr.getUserInfo(t,e,o)},t.prototype.checkSession=function(t){this.hasLogin()?this.loginMgr.checkSession(t):t(n.ResultState.YES)},t.prototype.postMessage=function(t){},t.prototype.hasSubPackage=function(){return null!=this.subPackage},t.prototype.loadSubPackage=function(t,e){this.hasSubPackage()?this.subPackage.loadList(t,e):e(n.ResultState.YES,null)},t.prototype.hasScreenshot=function(){return null!=this.screenshot},t.prototype.showScreenshot=function(){this.hasScreenshot()&&this.screenshot.capture()},t.prototype.hasNativeAd=function(){return this.hasParam(n.ADName.native)&&null!=this.nativeAd},t.prototype.showNativeAd=function(t,e){if(this.hasNativeAd()){var o=this.getParam(t,n.ADName.native);o&&this.nativeAd.open(o,e)}},t.prototype.hideNativeAd=function(){this.hasNativeAd()&&this.nativeAd.close()},t.prototype.reportAdClick=function(t){this.hasNativeAd()&&this.nativeAd.reportAdClick(t)},t.prototype.reportAdShow=function(t){this.hasNativeAd()&&this.nativeAd.reportAdShow(t)},t.prototype.hasRecorder=function(){return null!=this.recorder},t.prototype.recorderStart=function(t){this.hasRecorder()&&this.recorder.start(t)},t.prototype.getRecorder=function(){return this.recorder},t.prototype.recorderStop=function(t){void 0===t&&(t=!0),this.hasRecorder()&&this.recorder.stop(t)},t.prototype.hasAppBox=function(){return this.hasParam(n.ADName.appbox)&&null!=this.appBoxAd},t.prototype.showAppBoxAd=function(t){if(this.hasAppBox()){var e=this.getParam(t,n.ADName.appbox);e&&this.appBoxAd.open(e)}},t.prototype.showToast=function(t){},t.prototype.canInstallShortcut=function(t){t(n.ResultState.NO)},t.prototype.installShortcut=function(t){t(n.ResultState.NO)},t}();o.default=i,cc._RF.pop()},{"../SDKConfig":"SDKConfig"}],BaseComponent:[function(t,e,o){"use strict";cc._RF.push(e,"5e9b8fq2vVGVIafsHHtKZTM","BaseComponent");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.BaseComponent=void 0;var r=t("./LinkPrefab"),a=t("./Utils"),s=cc._decorator,c=s.ccclass,p=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._fire={},e}return n(e,t),e.prototype.__preload=function(){a.Utils._initBaseSize(),this._bind(this.node)},e.prototype._bind=function(t){var e=this,o=0;this._bindComponent(t),t.children.forEach(function(n){var i=n.name;n.zIndex=o,o+=10,"_"==i[0]&&(e._fire[i]&&cc.warn("BaseComponent WARNNING : ["+i+"("+t.parent.name+")] is already exists!"),e._fire[i]=n),e._bind(n)})},e.prototype._bindComponent=function(t){var e=this;t._components.forEach(function(o){var n=o.__classname__.replace("cc.","");t["$"+n]=o,"LinkPrefab"==o.__classname__&&(t.__RootScript__=e)})},e=i([c],e)}(cc.Component));o.BaseComponent=p,cc.js.get(cc.Node.prototype,"script",function(){var t=this.getComponent(r.LinkPrefab);return t&&t._prefabNode?t._prefabNode.script:this.getComponent(p)},!0,!0),cc._RF.pop()},{"./LinkPrefab":"LinkPrefab","./Utils":"Utils"}],BaseLogin:[function(t,e,o){"use strict";cc._RF.push(e,"01df4wsmwlMRa1d2XMM37DS","BaseLogin"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(t){this.channel=t}return t.prototype.login=function(t,e){},t.prototype.getUserInfo=function(t,e,o){},t.prototype.checkSession=function(t){},t}();o.default=n,cc._RF.pop()},{}],BaseNativeAdItemModel:[function(t,e,o){"use strict";cc._RF.push(e,"ba7d34HXbdKK7LgmMkHINH9","BaseNativeAdItemModel"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.prototype.getID=function(){},t.prototype.getTitle=function(){return""},t.prototype.getIcon=function(){var t=this.getIconList();return t&&t.length>0?t[0]:null},t.prototype.getDesc=function(){},t.prototype.getIconList=function(){return[]},t.prototype.getImgList=function(){return[]},t.prototype.getButtonText=function(){},t.prototype.getShowImageList=function(){return[]},t}();o.default=n,cc._RF.pop()},{}],BaseRecorder:[function(t,e,o){"use strict";cc._RF.push(e,"2e562GfWz5F7Lz4OgbtSzQl","BaseRecorder"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../SDKConfig"),i=function(){function t(){this.videoPath=null,this.state=n.SDKState.close}return t.prototype.start=function(t){},t.prototype.pause=function(){},t.prototype.resume=function(){},t.prototype.stop=function(t){void 0===t&&(t=!0)},t.prototype.recordClip=function(t){},t.prototype.changeState=function(t){this.state=t},t.prototype.getVideoPath=function(){return this.videoPath},t.prototype.clear=function(){this.videoPath=null},t.prototype.isOpen=function(){return this.state==n.SDKState.open},t.prototype.isClose=function(){return this.state==n.SDKState.close},t.prototype.getState=function(){return this.state},t}();o.default=i,cc._RF.pop()},{"../SDKConfig":"SDKConfig"}],BaseSDK:[function(t,e,o){"use strict";cc._RF.push(e,"c6336oumGpJO5cAryKABjdb","BaseSDK"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(t){this.setSDK(t)}return t.prototype.setSDK=function(t){this.sdk=t},t}();o.default=n,cc._RF.pop()},{}],BaseScreenshot:[function(t,e,o){"use strict";cc._RF.push(e,"429cd3tYJdCx6j1iCB9oCTu","BaseScreenshot"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../engine/TextureRenderUtils"),i=function(){function t(t){this.channel=t}return t.prototype.capture=function(t){void 0===t&&(t=!0),n.default.instance().createCanvas(),this.saveFile(this.createImage(),t)},t.prototype.getCanvas=function(){return n.default.instance().getCanvas()},t.prototype.showImage=function(t){},t.prototype.createImage=function(){},t.prototype.saveFile=function(t,e){},t}();o.default=i,cc._RF.pop()},{"../../engine/TextureRenderUtils":"TextureRenderUtils"}],BaseShare:[function(t,e,o){"use strict";cc._RF.push(e,"1320cHWXIJHbIB2uNbyxzgW","BaseShare"),Object.defineProperty(o,"__esModule",{value:!0}),o.BaseShare=void 0;var n=t("../SDKConfig"),i=function(){function t(t){this.state=n.SDKState.close,this.callback=null,this.channel=t}return t.prototype.getShareInfo=function(t,e){},t}();o.BaseShare=i,cc._RF.pop()},{"../SDKConfig":"SDKConfig"}],BaseSubPackage:[function(t,e,o){"use strict";cc._RF.push(e,"5e5e6ErNQVCdbOnOCgox6Up","BaseSubPackage"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../SDKConfig"),i=function(){function t(t){this.channel=t}return t.prototype.loadSingle=function(t,e){},t.prototype.loadList=function(t,e){var o=this;this.loadSingle(t.shift(),function(i,r){switch(i){case n.ResultState.YES:o.subNames.length>0?o.loadList(t,e):e(i,r);break;case n.ResultState.NO:case n.ResultState.PROGRESS:e(i,r)}})},t}();o.default=i,cc._RF.pop()},{"../SDKConfig":"SDKConfig"}],Bg:[function(t,e,o){"use strict";cc._RF.push(e,"cc707d62gFL25uzYbTHC2Fn","Bg");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.Bg=void 0;var r=t("./base/BaseComponent"),a=cc._decorator,s=a.ccclass,c=a.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bgframeArr=[],e.randtime=0,e}return n(e,t),e.prototype.start=function(){this.newRandomCubeEx(),this.newRandomCubeEx(),this.newRandomCubeEx()},e.prototype.newRandomCubeEx=function(){var t=new cc.Node;t.addComponent(cc.Sprite).spriteFrame=this.bgframeArr[Math.floor(4*Math.random())],this.node.addChild(t,100),t.color=new cc.Color(84,41,221,255),t.opacity=Math.floor(100*Math.random())+100,t.setPosition(20*Math.floor(30*Math.random())-300,yyp.gameFrameSize.height/-2-50),t.scale=.5-.1*Math.floor(3*Math.random());var e=0==Math.floor(2*Math.random())?-1:1,o=Math.floor(5*Math.random())+8;t.runAction(cc.rotateBy(o,360*e).repeatForever());var n=Math.floor(20*Math.random())+15;return t.runAction(cc.sequence(cc.moveBy(n,cc.v2(0,yyp.gameFrameSize.height+100)),cc.removeSelf())),t},e.prototype.newRandomCube=function(t){var e=new cc.Node,o=e.addComponent(cc.Graphics);return this.node.addChild(e,100),e.scale=.5,o.lineCap=cc.Graphics.LineCap.ROUND,o.lineJoin=cc.Graphics.LineJoin.ROUND,o.lineWidth=t,o.fillColor.fromHEX("#ff0000"),o.moveTo(-50,0),o.lineTo(0,86),o.lineTo(50,0),o.close(),o.stroke(),e},e.prototype.update=function(t){if(this.randtime=this.randtime+t,this.randtime>.5){if(0==Math.floor(4*Math.random()))this.newRandomCubeEx();this.randtime=0}},i([c(cc.SpriteFrame)],e.prototype,"bgframeArr",void 0),e=i([s],e)}(r.BaseComponent);o.Bg=p,cc._RF.pop()},{"./base/BaseComponent":"BaseComponent"}],ChannelItemModel:[function(t,e,o){"use strict";cc._RF.push(e,"c4993diQUZFz6IBa3KFonyZ","ChannelItemModel"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){return function(){}}();o.default=n,cc._RF.pop()},{}],CoinItem:[function(t,e,o){"use strict";cc._RF.push(e,"ead22ZbHoNDcJS3o44VgrPc","CoinItem");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.CoinItem=void 0;var r=t("./base/BaseComponent"),a=t("./base/Utils"),s=t("./base/LocalizedData"),c=t("./base/MusicManager"),p=t("./base/AnalyticsManager"),u=t("./sdk/sdk/SDKManager"),l=cc._decorator,h=l.ccclass,f=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._viewCount=-1,e._realCount=-1,e}return n(e,t),e.prototype.onLoad=function(){this._initVariable(),this._initEvent()},e.prototype.onDestroy=function(){this._destroyEvent()},e.prototype._initVariable=function(){this._viewCount=this._realCount=s.LocalizedData.getIntItem("coinNum1",0),this._refreshLabel()},e.prototype._initEvent=function(){yyp.eventCenter.on("add-coin",this._refresh,this),yyp.eventCenter.on("reduce-coin",this._reduce,this)},e.prototype._destroyEvent=function(){yyp.eventCenter.off("add-coin",this._refresh,this),yyp.eventCenter.off("reduce-coin",this._reduce,this)},e.prototype.count=function(){return this._realCount},e.prototype._reduce=function(t){t.count*=-1,this._refresh(t)},e.prototype._refresh=function(t){var e=t.count,o=t.position,n=t.p;if(this._viewCount<0&&this._realCount<0)this._realCount=e,this._viewCount=this._realCount,this._refreshLabel(),s.LocalizedData.setIntItem("coinNum1",this._realCount);else if(e<=0||null==o)this._realCount+=e,this._viewCount=this._realCount,this._refreshLabel(),s.LocalizedData.setIntItem("coinNum1",this._realCount),e<0?p.AnalyticsManager.virtualConsume(Math.abs(e),this._realCount,"\u91d1\u5e01",n):p.AnalyticsManager.virtualGet(e,this._realCount,"\u91d1\u5e01",n);else{p.AnalyticsManager.virtualGet(e,this._realCount+e,"\u91d1\u5e01",n),o=this._fire._sprCoin.parent.convertToNodeSpaceAR(o);for(var i=0;i<4;i++)this._createCoin(Math.floor(e/4),o,1+.1*i)}},e.prototype._refreshLabel=function(){this._fire._lbCoin.$Label.string=a.Utils.transformNumber(this._viewCount)},e.prototype.update=function(t){this._viewCount<this._realCount&&(this._viewCount+=this._viewCount<1e3?9:100,this._viewCount>this._realCount&&(this._viewCount=this._realCount),this._refreshLabel())},e.prototype._createCoin=function(t,e,o){var n=new cc.Node;n.position=e,n.parent=this._fire._sprCoin.parent,n.scale=.5,n.zIndex=100,n.addComponent(cc.Sprite).spriteFrame=this._fire._sprCoin.$Sprite.spriteFrame;var i=n.position,r=this._fire._sprCoin.position,p=300*Math.random()+200,u=a.Utils.degressToVectors(360*Math.random()),l=cc.v2(i).add(u.mul(p)),h=this;n.runAction(cc.sequence(cc.spawn(cc.bezierTo(o,[i,l,r]),cc.scaleTo(o,.8,.8)),cc.callFunc(function(){c.MusicManager.playEffect("coin"),h._realCount+=t,s.LocalizedData.setIntItem("coinNum1",h._realCount)}),cc.removeSelf()))},e.prototype.onShareResult=function(t){u.default.getChannel().showToast("\u5206\u4eab\uff1a"+t),yyp.eventCenter.emit("add-coin",{count:50,p:"\u91d1\u5e01\u52a0\u53f7"})},e.prototype.onAddClick=function(t){p.AnalyticsManager.clickEvent("CoinBtn"),c.MusicManager.playEffect("btn")},e=i([h],e)}(r.BaseComponent));o.CoinItem=f,cc._RF.pop()},{"./base/AnalyticsManager":"AnalyticsManager","./base/BaseComponent":"BaseComponent","./base/LocalizedData":"LocalizedData","./base/MusicManager":"MusicManager","./base/Utils":"Utils","./sdk/sdk/SDKManager":"SDKManager"}],CubeItem:[function(t,e,o){"use strict";cc._RF.push(e,"ea8b7UK1hRAXqeUqWtKCYqG","CubeItem");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.CubeItem=void 0;var r=t("./base/BaseComponent"),a=t("./GameLogic"),s=t("./base/MusicManager"),c=cc._decorator,p=c.ccclass,u=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cubePrefab=null,e.map=[],e.colorId=0,e.cubes=[],e.matchCubes=[],e.isDraging=!1,e.isTouching=!1,e.targetMapScript=null,e.dragOffset=cc.v2(0,0),e.savePos=cc.Vec2.ZERO,e.maxScale=1,e.bgMode=!1,e.tipMode=!1,e.gameMode=!1,e.firstTargetPos=null,e.randomIndex=-1,e}return n(e,t),e.prototype.onLoad=function(){this.initTouchEvent()},e.prototype.initTouchEvent=function(){},e.prototype.doTouchBegan=function(t){this.isTouching=!0,this.node.zIndex=10,this.removeMatchCubes();var e=this,o=this.node.parent.convertToNodeSpaceAR(t).add(this.dragOffset);this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.spawn(cc.moveTo(.1,o),cc.scaleTo(.1,this.maxScale)),cc.callFunc(function(){e.isDraging=!0}))),s.MusicManager.playEffect("select")},e.prototype.doTouchMove=function(t){this.bgMode||this.tipMode||1==this.isDraging&&this.drag(t)},e.prototype.doTouchEnded=function(){if(!this.bgMode&&!this.tipMode&&0!=this.isTouching){this.isTouching=!1,this.isDraging=!1;var t=this.savePos,e=1;this.matchCubes.length==this.cubes.length?(t=this.getMachPos(this.matchCubes[0]),e=this.maxScale,yyp.eventCenter.emit("game-star-update",{}),s.MusicManager.playEffect("right")):s.MusicManager.playEffect("unselect");var o=this;this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.spawn(cc.moveTo(.1,t),cc.scaleTo(.1,e)),cc.callFunc(function(){o.node.zIndex=1,yyp.eventCenter.emit("check-finish",{})})))}},e.prototype.tips=function(){this.tipMode=!0;var t=this.targetMapScript.getCube(this.firstTargetPos),e=this.getMachPos(t),o=this.maxScale;this.node.runAction(cc.sequence(cc.spawn(cc.moveTo(.5,e),cc.scaleTo(.5,o)),cc.spawn(cc.scaleTo(.5,1.5*o),cc.fadeOut(.5)),cc.delayTime(.5),cc.removeSelf()))},e.prototype.moveToSavePos=function(){var t=this;if(1!=this.bgMode){for(var e=0;e<this.matchCubes.length;e++){var o=this.matchCubes[e];o.script.paint(0),o.script.restoreDark()}this.matchCubes=[],this.bgMode=!0;var n=this.savePos;this.node.runAction(cc.sequence(cc.spawn(cc.moveTo(.3,n),cc.scaleTo(.3,1)),cc.callFunc(function(){t.bgMode=!1},this)))}},e.prototype.getMachPos=function(t){var e=t.parent.convertToWorldSpaceAR(t.position),o=this.node.parent.convertToNodeSpaceAR(e),n=this.cubes[0],i=n.parent.convertToWorldSpaceAR(n.position),r=this.node.convertToNodeSpaceAR(i);return r.x=r.x*this.maxScale,r.y=r.y*this.maxScale,o.sub(r)},e.prototype.setSavePos=function(t){this.savePos=t},e.prototype.setMaxScale=function(t){this.maxScale=t},e.prototype.testPoint=function(t){if(this.bgMode)return!1;if(this.tipMode)return!1;if(this.isTouching)return!1;var e=!0;0==this.matchCubes.length&&(e=!1);for(var o=0;o<this.cubes.length;o++){var n=this.cubes[o];if(n){if(1==e&&n.script.polygonHitTest(t))return!0;if(0==e&&n.script.maxBoxPointTest(t))return!0}}return!1},e.prototype.drag=function(t){var e=this.node.parent.convertToNodeSpaceAR(t).add(this.dragOffset);this.node.position=e,this.mapping()},e.prototype.loadCubeGroup=function(t,e,o){this.colorId=e,this.targetMapScript=o,this.map=this.cutMap(t,e);for(var n=0,i=0,r=0;r<this.map.length;r++)for(var a=0;a<this.map[r].length;a++)if(this.map[r][a]==e){var s=this.bgMode?0:this.map[r][a],c=cc.instantiate(this.cubePrefab);this._fire._lyMap.addChild(c),c.script.initCube(r,a,s),c.y=c.y+100,c.zIndex=1,this.cubes.push(c),n+=c.x,i+=c.y}var p=n/this.cubes.length,u=i/this.cubes.length,l=this.getGroupSize();this._fire._lyMap.setContentSize(l),this._fire._lyMap.setPosition(-p,-u)},e.prototype.cutMap=function(t,e){for(var o=t.mapCount.row,n=t.mapCount.col,i=t.map,r={},a=0;a<o;a++)for(var s=0;s<n;s++){(u=i[a][s])==e&&((void 0==r.minrow||r.minrow>a)&&(r.minrow=a),(void 0==r.maxrow||r.maxrow<a)&&(r.maxrow=a),(void 0==r.mincol||r.mincol>s)&&(r.mincol=s),(void 0==r.maxcol||r.maxcol<s)&&(r.maxcol=s),null==this.firstTargetPos&&(this.firstTargetPos={},this.firstTargetPos.row=a,this.firstTargetPos.col=s))}r.minrow=r.minrow-r.minrow%2,r.mincol=r.mincol-r.mincol%2;var c=[];for(a=0;a<o;a++){var p=[];for(s=0;s<n;s++){var u=i[a][s];a>=r.minrow&&a<=r.maxrow&&s>=r.mincol&&s<=r.maxcol&&(u==e?p.push(u):p.push(0))}p.length>0&&(c.push(p),p=[])}return c},e.prototype.getGroupSize=function(){var t=this.map.length,e=this.map[0].length,o=cc.Size.ZERO;return o.width=(e/2+1)*a.GameLogic.cubeWidth,o.height=t*a.GameLogic.cubeHeight+100,o},e.prototype.mapping=function(){var t=this.getMatchCubes();return t.length==this.cubes.length?(this.changeMatchCubes(t),!0):(this.isMoveOutMatchCube()&&this.removeMatchCubes(),!1)},e.prototype.getMatchCubes=function(){for(var t=[],e=0;e<this.cubes.length;e++){var o=this.cubes[e],n=this.targetMapScript.getMatchCube(o);if(!n)break;t.push(n)}return t},e.prototype.changeMatchCubes=function(t){for(var e=0;e<this.cubes.length;e++){var o=this.matchCubes[e];o&&(o.script.paint(0),o.script.restoreDark());var n=t[e];n.script.paint(this.colorId),n.script.setDark(),this.matchCubes[e]=n}},e.prototype.removeMatchCubes=function(){for(var t=0;t<this.cubes.length;t++){var e=this.matchCubes[t];e&&cc.isValid(e)&&(e.script.paint(0),e.script.restoreDark())}this.matchCubes=[]},e.prototype.isMoveOutMatchCube=function(){if(this.matchCubes.length>0)for(var t=0;t<this.cubes.length;t++){var e=this.cubes[t],o=this.matchCubes[t];if(0==e.script.maxBoxHitTest(o.script))return!0}return!1},e.prototype.setBgMode=function(){this.bgMode=!0},e.prototype.setGameMode=function(){this.gameMode=!0,this.dragOffset=cc.v2(0,300)},e.prototype.restMatch=function(){},e.prototype.destroySelf=function(){for(var t=0;t<this.cubes.length;t++){this.cubes[t].destroy()}},e.prototype.showDropFinish=function(){for(var t=0;t<this.cubes.length;t++){var e=this.cubes[t],o=this.matchCubes[t];o&&o.script.restoreDark(),e.runAction(cc.rotateBy(.5,360).repeatForever()),e.runAction(cc.sequence(cc.moveBy(.3,Math.floor(400*Math.random())-200,Math.floor(300*Math.random())+100).easing(cc.easeQuadraticActionOut()),cc.moveBy(1,0,-1800).easing(cc.easeQuadraticActionIn())))}},e.prototype.showFadeFinish=function(){for(var t=0;t<this.cubes.length;t++){this.cubes[t].runAction(cc.fadeOut(.3))}},e.prototype.setRandom=function(t){this.randomIndex=t},e.prototype.setRandomTip=function(){for(var t=0;t<this.cubes.length;t++){var e=this.cubes[t],o=new cc.Node;o.addComponent(cc.Label).string="R",o.parent=e}},e.prototype.isRandom=function(){return-1!=this.randomIndex},e.prototype.getRandomIndex=function(){return this.randomIndex},e.prototype.getItemColorId=function(){return this.colorId},e.prototype.testMapping=function(){this.removeMatchCubes();for(var t=this.targetMapScript.getMapSize(),e=0;e<t.width;e+=40)for(var o=0;o<t.height;o+=40)if(this.node.x=0+e,this.node.y=0+o,this.mapping()){var n=this.getMachPos(this.matchCubes[0]),i=this.maxScale;return this.node.position=n,void(this.node.scale=i)}},i([u(cc.Prefab)],e.prototype,"cubePrefab",void 0),e=i([p],e)}(r.BaseComponent);o.CubeItem=l,cc._RF.pop()},{"./GameLogic":"GameLogic","./base/BaseComponent":"BaseComponent","./base/MusicManager":"MusicManager"}],Cube:[function(t,e,o){"use strict";cc._RF.push(e,"87203qG/IZETqg6BvxlZPKN","Cube");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.Cube=void 0;var r=t("./base/BaseComponent"),a=t("./base/Utils"),s=t("./GameLogic"),c=cc._decorator,p=c.ccclass,u=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spriteframeArr=[],e.row=0,e.col=0,e.colorId=0,e}return n(e,t),e.prototype.onLoad=function(){this._fire._sprBg.active=!1},e.prototype.initCube=function(t,e,o){this.row=t,this.col=e;var n=t%2==1,i=e%2==1,r=(e+1)*s.GameLogic.cubeWidth/2+s.GameLogic.cubeWidth/2+(n?s.GameLogic.cubeWidth/-2:0),a=t*s.GameLogic.cubeHeight+s.GameLogic.cubeHeight/2;this.node.setPosition(r,a),this.paint(o),i&&(this._fire._sprBg.scaleY=-1,this._fire._sprCube.scaleY=-1,this._fire._lbTip.setPosition(0,15)),this._fire._lbTip.$Label.string=this.row+" "+this.col},e.prototype.polygonHitTest=function(t){var e=this._fire._sprCube.convertToNodeSpaceAR(t),o=this._fire._sprCube.getComponent(cc.PolygonCollider);return cc.Intersection.pointInPolygon(e,o.points)},e.prototype.maxPolygonHitTest=function(t){var e=this._fire._sprCube.convertToNodeSpaceAR(t),o=this._fire._sprCube.getComponent(cc.PolygonCollider);return cc.Intersection.pointInPolygon(e,o.points)},e.prototype.maxBoxPointTest=function(t){return this.getMaxBoundingBoxToWorld().contains(t)},e.prototype.minBoxHitTest=function(t){var e=this.getMinBoundingBoxToWorld(),o=t.getMinBoundingBoxToWorld();return e.intersects(o)},e.prototype.maxBoxHitTest=function(t){var e=this.getMaxBoundingBoxToWorld(),o=t.getMaxBoundingBoxToWorld();return e.intersects(o)},e.prototype.getMinBoundingBoxToWorld=function(){var t=this._fire._sprCube.getBoundingBoxToWorld();return a.Utils.rectScale(t,.4)},e.prototype.getMaxBoundingBoxToWorld=function(){var t=this._fire._sprCube.getBoundingBoxToWorld();return a.Utils.rectScale(t,1.5)},e.prototype.setSelect=function(){this.colorId=1,this.resetSpriteFrame()},e.prototype.setUnselect=function(){this.colorId=0,this.resetSpriteFrame()},e.prototype.isSelect=function(){return 0!=this.colorId},e.prototype.doActive=function(){this.node.active=!0,this._fire._lbTip.string=this.row+" "+this.col,this.resetSpriteFrame()},e.prototype.doUnactive=function(){this.node.active=!1},e.prototype.resetSpriteFrame=function(){var t=this._fire._sprCube.getComponent(cc.Sprite);this.colorId<this.spriteframeArr.length?t.spriteFrame=this.spriteframeArr[this.colorId]:t.spriteFrame=this.spriteframeArr[0]},e.prototype.setDark=function(){this._fire._sprCube.color=new cc.Color(150,150,150)},e.prototype.restoreDark=function(){this._fire._sprCube.color=new cc.Color(255,255,255)},e.prototype.paint=function(t){this.colorId=t,this.resetSpriteFrame()},e.prototype.getColorId=function(){return this.colorId},e.prototype.shapeMatching=function(t){return this.col%2==t.col%2},e.prototype.setBgMode=function(){this._fire._sprBg.active=!0,this._fire._sprCube.active=!1},e.prototype.PrefixZero=function(t,e){return(Array(e).join("0")+t).slice(-e)},i([u(cc.SpriteFrame)],e.prototype,"spriteframeArr",void 0),e=i([p],e)}(r.BaseComponent);o.Cube=l,cc._RF.pop()},{"./GameLogic":"GameLogic","./base/BaseComponent":"BaseComponent","./base/Utils":"Utils"}],DataFormat:[function(t,e,o){"use strict";cc._RF.push(e,"ccb68JYcDBAg4qkvh4/WqN3","DataFormat");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.DataFormat=void 0;var r=t("./base/BaseComponent"),a=cc._decorator,s=a.ccclass,c=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var o;return n(e,t),o=e,e.init=function(){o.testExportPath(),o.loadDiffInfo(),o.loadRandomInfo()},e.testExportPath=function(){cc.sys.platform===cc.sys.WIN32&&0==jsb.fileUtils.isDirectoryExist(o.exportPath)&&jsb.fileUtils.createDirectory(o.exportPath)},e.getMapDataPath=function(t,e){if(cc.sys.platform==cc.sys.WIN32){var n="map_"+o.PrefixZero(t,2)+"_"+o.PrefixZero(e,3);return o.exportPath+n+".json"}return"mapdata/map_"+o.PrefixZero(t,2)+"_"+o.PrefixZero(e,3)},e.getMapInfoPath=function(){return cc.sys.platform==cc.sys.WIN32?o.exportPath+"mapinfo.json":"mapdata/mapinfo"},e.geRandomInfoPath=function(){return cc.sys.platform==cc.sys.WIN32?o.exportPath+"map_random.json":"mapdata/map_random"},e.isMapExist=function(t,e){if(cc.sys.platform!=cc.sys.WIN32)return!0;var n=o.getMapDataPath(t,e);return!!jsb.fileUtils.isFileExist(n)},e.exportMap=function(t,e,n){var i=o.getMapDataPath(t,e);cc.sys.platform===cc.sys.WIN32?jsb.fileUtils.writeStringToFile(JSON.stringify(n),i):(cc.log("exportMap ",JSON.stringify(n)),window.alert("\u6570\u636e\u7f16\u8f91\u529f\u80fd,\u53ea\u652f\u6301win32\u6a21\u62df\u5668!"))},e.loadDiffInfo=function(){if(cc.sys.platform===cc.sys.WIN32){if(jsb.fileUtils.isFileExist(o.getMapInfoPath())){var t=jsb.fileUtils.getStringFromFile(o.getMapInfoPath());o.diffInfo=JSON.parse(t)}}else{yyp.bundle.load(o.getMapInfoPath(),cc.JsonAsset,function(t,e){o.diffInfo=e.json})}},e.loadRandomInfo=function(){if(cc.sys.platform===cc.sys.WIN32){if(jsb.fileUtils.isFileExist(o.geRandomInfoPath())){var t=jsb.fileUtils.getStringFromFile(o.geRandomInfoPath());o.randomInfo=JSON.parse(t)}}else{yyp.bundle.load(o.geRandomInfoPath(),cc.JsonAsset,function(t,e){o.randomInfo=e.json})}},e.getDiffInfo=function(){return o.diffInfo},e.getRandomInfo=function(){return o.randomInfo},e.getRandomMap=function(t,e){-1==t&&(t=Math.floor(Math.random()*o.randomInfo.length));var n={};n.map=o.randomInfo[t],n.mapCount={},n.mapCount.row=n.map.length,n.mapCount.col=n.map[0].length,n.index=t;for(var i=0;i<n.mapCount.row;i++)for(var r=0;r<n.mapCount.col;r++)n.map[i][r]>0&&(n.map[i][r]=e);return n},e.getMapDataJsb=function(t,e,n){if(cc.sys.platform===cc.sys.WIN32){if(o.isMapExist(t,e)){var i=o.getMapDataPath(t,e);cc.log("getMapDataJsb ",i);var r=jsb.fileUtils.getStringFromFile(i);cc.log("getMapDataJsb ",r),n(JSON.parse(r))}}else{var a=o.getMapDataPath(t,e);yyp.bundle.load(a,cc.JsonAsset,function(t,e){n(e.json)})}return null},e.PrefixZero=function(t,e){return(Array(e).join("0")+t).slice(-e)},e.exportPath="../../../../../work/04_triple_js/assets/resources/mapdata/",e.diffInfo={},e.randomInfo=[],e=o=i([s],e)}(r.BaseComponent));o.DataFormat=c,cc._RF.pop()},{"./base/BaseComponent":"BaseComponent"}],DevChannel:[function(t,e,o){"use strict";cc._RF.push(e,"8c1f19qe99Opa5d656lzl9Q","DevChannel");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(t("../base/BaseChannel").default);o.default=i,cc._RF.pop()},{"../base/BaseChannel":"BaseChannel"}],Dialogs:[function(t,e,o){"use strict";cc._RF.push(e,"447fc5FyE5GboFFtnl0EL1c","Dialogs");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.Dialogs=void 0;var r=t("./BaseComponent"),a=t("./Utils"),s=cc._decorator,c=s.ccclass,p=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._bottomLayout_=null,e._topLayout_=null,e._maskOpacity_=160,e._maskDuration_=.2,e}return n(e,t),e.prototype.__preload=function(){t.prototype.__preload.call(this),this._bottomLayout_=a.Utils.createLayout(2*yyp.gameFrameSize.width,2*yyp.gameFrameSize.height,new cc.Color(0,0,0,255),this.node),this._bottomLayout_.addComponent(cc.BlockInputEvents),this._bottomLayout_.zIndex=-1,this._bottomLayout_.opacity=0,this._topLayout_=a.Utils.createLayout(2*yyp.gameFrameSize.width,2*yyp.gameFrameSize.height,new cc.Color(0,0,0,255),this.node),this._topLayout_.zIndex=9999,this._topLayout_.opacity=0},e.prototype.show=function(){this._showMask_(),this._doShowAnimation_()},e.prototype.close=function(){this._hideMask_(),this._doCloseAnimation_(),this._doCloseHide_()},e.prototype._showMask_=function(){this._bottomLayout_.stopAllActions(),this._bottomLayout_.runAction(cc.fadeTo(this._maskDuration_,this._maskOpacity_)),this._topLayout_.addComponent(cc.BlockInputEvents)},e.prototype._hideMask_=function(){this._bottomLayout_.stopAllActions(),this._bottomLayout_.runAction(cc.fadeTo(this._maskDuration_,0)),this._topLayout_.addComponent(cc.BlockInputEvents)},e.prototype._doShowAnimation_=function(){var t=this,e=this.node.scale;this.node.stopAllActions(),this.node.scale=.8*e,this.node.opacity=0,this.node.runAction(cc.fadeIn(this._maskDuration_+.1)),this.node.runAction(cc.sequence(cc.scaleTo(this._maskDuration_+.1,e).easing(cc.easeBackInOut()),cc.callFunc(function(){t._topLayout_.removeComponent(cc.BlockInputEvents),t._openedCallback()})))},e.prototype._doCloseAnimation_=function(){var t=this,e=this.node.scale;this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.callFunc(function(){t._willCloseCallback()}),cc.spawn(cc.fadeOut(this._maskDuration_),cc.scaleTo(this._maskDuration_,.8*e).easing(cc.easeBackIn())),cc.callFunc(function(){t._closedCallback()})))},e.prototype._doCloseHide_=function(){this.node.runAction(cc.sequence(cc.delayTime(this._maskDuration_+.1),cc.removeSelf()))},e.prototype._openedCallback=function(){},e.prototype._closedCallback=function(){},e.prototype._willCloseCallback=function(){},e=i([c],e)}(r.BaseComponent));o.Dialogs=p,cc._RF.pop()},{"./BaseComponent":"BaseComponent","./Utils":"Utils"}],EditScene:[function(t,e,o){"use strict";cc._RF.push(e,"438d7Um5glK8rKX1qi7HeKv","EditScene");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.EditScene=void 0;var r=t("./base/BaseComponent"),a=t("./base/Utils"),s=t("./DataFormat"),c=cc._decorator,p=c.ccclass,u=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.paintMapPrefab=null,e.groupMapPrefab=null,e.mapChoosePrefab=null,e.curDiffId=1,e.curMapId=-1,e.editStatus=0,e.paintMap=null,e.groupMap=null,e.leveldata={},e}return n(e,t),e.prototype.onLoad=function(){cc.debug.setDisplayStats(!1),s.DataFormat.init(),this.initWidget(),this.initPaintMapLayer(),this.initGroupMapLayer(),this.initEvent(),this.changeEditStatus()},e.prototype.initWidget=function(){this._fire._btnRandom.active=!1},e.prototype.initEvent=function(){var t=this;yyp.eventCenter.on("choose-map",function(e){a.Utils.addNotice("\u6570\u636e\u4fdd\u5b58\u5b8c\u6210!"),t.onNewMap(e.mapId)},this),yyp.eventCenter.on("paintmap-changed",function(e){t.leveldata.paintData=e.data,t.leveldata.groupData=null},this)},e.prototype.initPaintMapLayer=function(){this.paintMap=cc.instantiate(this.paintMapPrefab),this._fire._nPaintMap.addChild(this.paintMap),this.paintMap.setPosition(0,0)},e.prototype.initGroupMapLayer=function(){this.groupMap=cc.instantiate(this.groupMapPrefab),this._fire._nGroupMap.addChild(this.groupMap)},e.prototype.openLevelSelectView=function(){a.Utils.showDialogs(this.mapChoosePrefab).script.setDiffId(this.curDiffId)},e.prototype.onSelectClick=function(t,e){this.openLevelSelectView()},e.prototype.onRandomClick=function(t,e){var o=s.DataFormat.getDiffInfo(),n=0,i=0;do{n=Math.floor(Math.random()*(this.curDiffId-1))+1;var r=o["diff_"+(n=1)].lvCount;i=Math.floor(Math.random()*r)+1,cc.log(n,i,s.DataFormat.isMapExist(n,i))}while(0==s.DataFormat.isMapExist(n,i));this.paintMap.script.clearAllCubes();var a=this;s.DataFormat.getMapDataJsb(n,i,function(t){t&&(a.leveldata=t,a.paintMap.script.reloadMap(t.paintData))}),this.groupMap.script.clearAllItems()},e.prototype.onStartGroupClick=function(t,e){this.leveldata.paintData=this.paintMap.script.getMapData(),this.leveldata.groupData=null,this.editStatus=3,this.changeEditStatus(),this.groupMap.script.loadGroupMap(this.leveldata)},e.prototype.onSaveClick=function(t,e){if(-1!=this.curMapId){var o=this.groupMap?this.groupMap.script.getMapData():null,n=this.paintMap.script.getMapData();s.DataFormat.exportMap(this.curDiffId,this.curMapId,{paintData:n,groupData:o}),a.Utils.addNotice("\u6570\u636e"+this.curDiffId+"-"+this.curMapId+"\u4fdd\u5b58\u5b8c\u6210!"),this.editStatus=0,this.changeEditStatus(),this.paintMap.script.clearAllCubes(),this.groupMap.script.clearAllItems(),this.curMapId=Math.floor(this.curMapId)+1,this.onNewMap(this.curDiffId+"-"+this.curMapId)}else this._fire._lbLevel.runAction(cc.blink(2,10))},e.prototype.changeEditStatus=function(){var t=this.paintMap.script;t.setEditStatus(this.editStatus),0==this.editStatus?(this._fire._btnParse.active=!1,this._fire._btnGroup.active=!1,this._fire._btnReturnParse.active=!1,this._fire._btnReturnPaint.active=!1,this._fire._btnSave.active=!1,t.setEditNodeVisible(!1),this.groupMap.active=!1):1==this.editStatus?(this._fire._btnParse.active=!0,this._fire._btnGroup.active=!1,this._fire._btnReturnParse.active=!1,this._fire._btnReturnPaint.active=!1,this._fire._btnSave.active=!0,t.setEditNodeVisible(!1),this.groupMap.active=!1):2==this.editStatus?(this._fire._btnParse.active=!1,this._fire._btnGroup.active=!0,this._fire._btnReturnParse.active=!1,this._fire._btnReturnPaint.active=!0,this._fire._btnSave.active=!0,t.setEditNodeVisible(!0),this.groupMap.active=!1):3==this.editStatus&&(this._fire._btnParse.active=!1,this._fire._btnGroup.active=!1,this._fire._btnReturnParse.active=!0,this._fire._btnReturnPaint.active=!0,this._fire._btnSave.active=!0,t.setEditNodeVisible(!1),this.groupMap.active=!0)},e.prototype.onParseClick=function(t,e){this._fire._btnRandom.active=!1,this.editStatus=2,this.changeEditStatus(),this.paintMap.script.parseMap()},e.prototype.onReturnPaintClick=function(t,e){this.paintMap.script.resetAllCubes(),this.editStatus=1,this.changeEditStatus(),this.groupMap.script.clearAllItems(),this._fire._btnRandom.active=!0},e.prototype.onReturnParseClick=function(t,e){cc.log("onReturnParseClick"),this.editStatus=2,this.changeEditStatus(),this.groupMap.script.clearAllItems()},e.prototype.onNewMap=function(t){var e=t.split("-");this.curDiffId=e[0],this.curMapId=e[1],this.refreshTipLabel(),this.paintMap.script.clearAllCubes();var o=this;s.DataFormat.getMapDataJsb(this.curDiffId,this.curMapId,function(t){t&&(o.leveldata=t,o.paintMap.script.reloadMap(t.paintData))}),this.editStatus=1,this.changeEditStatus();var n=s.DataFormat.getDiffInfo()["diff_"+this.curDiffId];this.paintMap.script.setGroupCount(n.groupCount),this.groupMap.script.clearAllItems(),this._fire._btnRandom.active=!0},e.prototype.refreshTipLabel=function(){var t=this._fire._lbLevel.getComponent(cc.Label);-1==this.curMapId?t.string="-1":t.string=this.curDiffId+"-"+this.curMapId},i([u(cc.Prefab)],e.prototype,"paintMapPrefab",void 0),i([u(cc.Prefab)],e.prototype,"groupMapPrefab",void 0),i([u(cc.Prefab)],e.prototype,"mapChoosePrefab",void 0),e=i([p],e)}(r.BaseComponent);o.EditScene=l,cc._RF.pop()},{"./DataFormat":"DataFormat","./base/BaseComponent":"BaseComponent","./base/Utils":"Utils"}],FunctionView:[function(t,e,o){"use strict";cc._RF.push(e,"ac0e0HmKkZKHLMm1fXW5vET","FunctionView");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,s=r.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="hello",e}return n(e,t),e.prototype.start=function(){},i([s(cc.Label)],e.prototype,"label",void 0),i([s],e.prototype,"text",void 0),e=i([a],e)}(cc.Component);o.default=c,cc._RF.pop()},{}],GameFinish:[function(t,e,o){"use strict";cc._RF.push(e,"eb767YZiVpNVoQH/FwpFudS","GameFinish");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.GameFinish=void 0;var r=t("./base/BaseComponent"),a=t("./base/Utils"),s=t("./GameLogic"),c=t("./base/MusicManager"),p=t("./base/AnalyticsManager"),u=t("./sdk/sdk/SDKManager"),l=cc._decorator,h=l.ccclass,f=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.word2SpriteFrame=null,e.word3SpriteFrame=null,e._starNum=1,e}return n(e,t),e.prototype.onLoad=function(){this._fire._lyBg.active=!1,this._fire._sprBg.active=!1,this._fire._nLight.active=!1,this._fire._nStar1.active=!1,this._fire._nStar2.active=!1,this._fire._nStar3.active=!1,this._fire._nCrown.active=!1,this._fire._sprCoin.active=!1,this._fire._sprWord.active=!1,this._fire._nBtns.active=!1},e.prototype.show=function(t,e){this._starNum=e;this._fire._lyBg.active=!0,this._fire._lyBg.opacity=0,this._fire._lyBg.runAction(cc.sequence(cc.delayTime(1),cc.fadeTo(.2,180))),this._fire._sprBg.active=!0,this._fire._sprBg.opacity=0,this._fire._sprBg.scale=0,this._fire._sprBg.runAction(cc.sequence(cc.delayTime(1),cc.spawn(cc.fadeIn(.2),cc.scaleTo(.2,1))));var o=80==t?this._fire._nCrown:this._fire["_nStar"+e];o.active=!0,o.opacity=0,o.scale=0,o.runAction(cc.sequence(cc.delayTime(1.2),cc.spawn(cc.fadeIn(.2),cc.scaleTo(.2,1)))),this._fire._nLight.active=!0,this._fire._sprLight2.opacity=0,this._fire._sprLight3.opacity=0,this._fire._sprLight4.opacity=0,this._fire._sprLight5.opacity=0,this._fire._sprLight2.runAction(cc.sequence(cc.delayTime(1.2),cc.fadeIn(.1),cc.repeat(cc.rotateBy(15,360),100))),this._fire._sprLight3.runAction(cc.sequence(cc.delayTime(1.2),cc.fadeIn(.1),cc.repeat(cc.rotateBy(20,-360),100))),this._fire._sprLight4.runAction(cc.sequence(cc.delayTime(1.2),cc.fadeIn(.1),cc.repeat(cc.rotateBy(20,-360),100))),this._fire._sprLight5.runAction(cc.sequence(cc.delayTime(1.2),cc.fadeIn(.1),cc.repeat(cc.rotateBy(20,-360),100))),this._fire._lbCoin.$Label.string="+"+10*e,this._fire._sprCoin.active=!0,this._fire._sprCoin.opacity=0,this._fire._sprCoin.scale=0,this._fire._sprCoin.runAction(cc.sequence(cc.delayTime(1.2),cc.spawn(cc.fadeIn(.2),cc.scaleTo(.2,1)))),2==e?this._fire._sprWord.$Sprite.spriteFrame=this.word2SpriteFrame:3==e&&(this._fire._sprWord.$Sprite.spriteFrame=this.word3SpriteFrame),this._fire._sprWord.active=!0,this._fire._sprWord.opacity=0,this._fire._sprWord.scale=0,this._fire._sprWord.runAction(cc.sequence(cc.delayTime(1.2),cc.spawn(cc.fadeIn(.2),cc.scaleTo(.2,1)))),this._fire._nBtns.active=!0,this._fire._nBtns.opacity=0,this._fire._nBtns.runAction(cc.sequence(cc.delayTime(1.5),cc.fadeIn(.2)))},e.prototype.onNextClick=function(){if(c.MusicManager.playEffect("btn"),s.GameLogic.getEnergy()>0){yyp.eventCenter.emit("add-coin",{count:10*this._starNum,position:a.Utils.getWorldPosition(this._fire._sprCoin),p:"\u7ed3\u675f\u83b7\u53d6next"});var t=s.GameLogic.getCurrentLevel();yyp.eventCenter.emit("game-start",{diffId:t.diff,mapId:t.map}),this.node.destroy()}else a.Utils.addNotice("\u80fd\u91cf\u4e0d\u8db3,\u4f11\u606f\u4e00\u4e0b\u5427")},e.prototype.onMainClick=function(){c.MusicManager.playEffect("btn"),yyp.eventCenter.emit("add-coin",{count:10*this._starNum,position:a.Utils.getWorldPosition(this._fire._sprCoin),p:"\u7ed3\u675f\u83b7\u53d6main"}),yyp.eventCenter.emit("return-main",{}),this.node.destroy()},e.prototype.onShareClick=function(){p.AnalyticsManager.clickEvent("finishshare"),c.MusicManager.playEffect("btn")},e.prototype.onShareResult=function(t){u.default.getChannel().showToast("\u5206\u4eab\uff1a"+t),yyp.eventCenter.emit("add-coin",{count:50,position:a.Utils.getWorldPosition(this._fire._btnShare),p:"\u7ed3\u675f\u9875\u5206\u4eab"})},i([f(cc.SpriteFrame)],e.prototype,"word2SpriteFrame",void 0),i([f(cc.SpriteFrame)],e.prototype,"word3SpriteFrame",void 0),e=i([h],e)}(r.BaseComponent);o.GameFinish=d,cc._RF.pop()},{"./GameLogic":"GameLogic","./base/AnalyticsManager":"AnalyticsManager","./base/BaseComponent":"BaseComponent","./base/MusicManager":"MusicManager","./base/Utils":"Utils","./sdk/sdk/SDKManager":"SDKManager"}],GameLogic:[function(t,e,o){"use strict";cc._RF.push(e,"96d96ymjHpN1rHyV0hzoj6K","GameLogic");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.GameLogic=void 0;var r=t("./base/BaseComponent"),a=cc._decorator,s=a.ccclass,c=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="DataFormat",e}var o;return n(e,t),o=e,e._isValid=function(t){return null!==t&&(void 0!==t&&(""!==t&&"NaN"!==t))},e.getCurrentLevel=function(){var t=cc.sys.localStorage.getItem("maxLevel6");return o._isValid(t)?JSON.parse(t):o.setCurrentLevel(1,1)},e.setCurrentLevel=function(t,e){var o={diff:t,map:e};return cc.sys.localStorage.setItem("maxLevel6",JSON.stringify(o)),o},e.getEnergyTime=function(){var t=cc.sys.localStorage.getItem("energyTime1");return o._isValid(t)||(t=0),parseInt(t)},e.setEnergyTime=function(t){cc.sys.localStorage.setItem("energyTime1",t)},e.getEnergy=function(){var t=cc.sys.localStorage.getItem("energyNum1");return o._isValid(t)||(t=10),parseInt(t)},e.setEnergy=function(t){cc.sys.localStorage.setItem("energyNum1",t)},e.getDiffLvStar=function(t){var e=cc.sys.localStorage.getItem("1diff_star_"+t);return o._isValid(e)?JSON.parse(e):1==t?{1:0}:{}},e.saveLvStar=function(t,e,n){var i=e,r=o.getDiffLvStar(t);r[i]=n,cc.sys.localStorage.setItem("1diff_star_"+t,JSON.stringify(r))},e.setMusicVolume=function(t){void 0===t&&(t=null),null==t&&(t=o.getMusicVolume()),cc.audioEngine.setMusicVolume(parseInt(t)),cc.sys.localStorage.setItem("musicVolume1",t)},e.getMusicVolume=function(){var t=cc.sys.localStorage.getItem("musicVolume1");return o._isValid(t)||(t=1),parseInt(t)},e.setEffectVolume=function(t){void 0===t&&(t=null),null==t&&(t=o.getEffectVolume()),cc.audioEngine.setEffectsVolume(parseInt(t)),cc.sys.localStorage.setItem("effectVolume1",t)},e.getEffectVolume=function(){var t=cc.sys.localStorage.getItem("effectVolume1");return o._isValid(t)||(t=1),parseInt(t)},e.cubeWidth=100,e.cubeHeight=86,e.mapRow=8,e.mapCol=13,e=o=i([s],e)}(r.BaseComponent));o.GameLogic=c,cc._RF.pop()},{"./base/BaseComponent":"BaseComponent"}],GameMain:[function(t,e,o){"use strict";cc._RF.push(e,"f62ccldmvJJjJDsWH/NkqgO","GameMain");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.GameMain=void 0;var r=t("./base/BaseComponent"),a=t("./base/Utils"),s=t("./GameLogic"),c=t("./base/MusicManager"),p=t("./base/AnalyticsManager"),u=t("./sdk/sdk/SDKManager"),l=cc._decorator,h=l.ccclass,f=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.settingPrefab=null,e}return n(e,t),e.prototype.onStartClick=function(){if(p.AnalyticsManager.clickEvent("CoinBtn"),c.MusicManager.playEffect("btn"),s.GameLogic.getEnergy()>0){var t=s.GameLogic.getCurrentLevel();yyp.eventCenter.emit("game-start",{diffId:t.diff,mapId:t.map}),this.node.destroy()}else a.Utils.addNotice("\u80fd\u91cf\u4e0d\u8db3,\u4f11\u606f\u4e00\u4e0b\u5427")},e.prototype.btnAction=function(t,e){var o=t.getComponent(cc.Button);o&&(o.interactable=!1),t.runAction(cc.sequence(cc.fadeOut(.1),cc.callFunc(function(){e&&e()})))},e.prototype.onSetClick=function(){yyp.eventCenter.emit("show-setting",{tag:0})},e.prototype.onLevelClick=function(){c.MusicManager.playEffect("btn"),yyp.eventCenter.emit("show-choose",{}),this.node.destroy()},e.prototype.onShareClick=function(){p.AnalyticsManager.clickEvent("mainshare"),c.MusicManager.playEffect("btn")},e.prototype.onShareResult=function(t){u.default.getChannel().showToast("\u5206\u4eab\uff1a"+t),yyp.eventCenter.emit("add-coin",{count:50,position:a.Utils.getWorldPosition(this._fire._btnShare),p:"\u4e3b\u9875\u5206\u4eab"})},i([f(cc.Prefab)],e.prototype,"settingPrefab",void 0),e=i([h],e)}(r.BaseComponent);o.GameMain=d,cc._RF.pop()},{"./GameLogic":"GameLogic","./base/AnalyticsManager":"AnalyticsManager","./base/BaseComponent":"BaseComponent","./base/MusicManager":"MusicManager","./base/Utils":"Utils","./sdk/sdk/SDKManager":"SDKManager"}],GameMap:[function(t,e,o){"use strict";cc._RF.push(e,"2dd36njL2hCgqSz3BifWVmi","GameMap");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.GameMap=void 0;var r=t("./base/BaseComponent"),a=t("./GameLogic"),s=cc._decorator,c=s.ccclass,p=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cubePrefab=null,e.limitHeight=550,e.mapCount={row:0,col:0},e.bgCubes={},e.cubes={},e.activeCubes={},e.map={},e.saveMapX=0,e.saveMapY=0,e.mapScale=0,e}return n(e,t),e.prototype.onLoad=function(){this.limitHeight=this.limitHeight-(568-yyp.safeTopBottom),this._fire._lyMap.y=this._fire._lyMap.y-(568-yyp.safeTopBottom)/2,this.saveMapX=this._fire._lyMap.x,this.saveMapY=this._fire._lyMap.y;for(var t=0;t<a.GameLogic.mapRow;t++)for(var e=0;e<a.GameLogic.mapCol;e++){var o=cc.instantiate(this.cubePrefab);this._fire._lyMap.addChild(o),o.script.initCube(t,e,0),o.script.setBgMode(),this.bgCubes["cube_"+t+"_"+e]=o,o.zIndex=0,o.active=!1;var n=cc.instantiate(this.cubePrefab);this._fire._lyMap.addChild(n),n.script.initCube(t,e,0),this.cubes["cube_"+t+"_"+e]=n,n.zIndex=1,n.active=!1}},e.prototype.reloadMap=function(t){this.mapCount=t.mapCount,this.map=t.map;for(var e=null,o=null,n=null,i=null,r=0;r<this.map.length;r++)for(var s=0;s<this.map[r].length;s++){var c=this.bgCubes["cube_"+r+"_"+s],p=this.cubes["cube_"+r+"_"+s];this.map[r][s]>0&&(c.active=!0,p.active=!0,this.activeCubes["cube_"+r+"_"+s]=p,(null==e||e>r)&&(e=r),(null==o||o<r)&&(o=r),(null==n||n>p.x)&&(n=p.x),(null==i||i<p.x)&&(i=p.x))}this.judgeMapScale(i,(o-e+1)*a.GameLogic.cubeHeight),this._fire._lyMap.x=this.saveMapX-this.mapScale*((i-n)/2+n),this._fire._lyMap.y=this.saveMapY-this.mapScale*((o-e+1)/2+e)*a.GameLogic.cubeHeight},e.prototype.getMapScale=function(){return this.mapScale},e.prototype.judgeMapScale=function(t,e){var o=620/t,n=this.limitHeight/e,i=o<n?o:n;i>1&&(i=1),this.mapScale=i,this._fire._lyMap.scale=this.mapScale},e.prototype.getMatchCube=function(t){for(var e=0;e<this.mapCount.row;e++)for(var o=0;o<this.mapCount.col;o++){var n=this.activeCubes["cube_"+e+"_"+o];if(n&&(0==n.script.getColorId()||n.script.getColorId()==t.script.getColorId())&&n.script.shapeMatching(t.script)&&t.script.minBoxHitTest(n.script))return n}return null},e.prototype.getCube=function(t){return this.activeCubes["cube_"+t.row+"_"+t.col]},e.prototype.checkFinish=function(){for(var t=!0,e=0;e<this.map.length;e++)for(var o=0;o<this.map[e].length;o++){var n=this.activeCubes["cube_"+e+"_"+o];if(n&&0==n.script.getColorId()){t=!1;break}}return t&&cc.log("finish!!!!!!!!!"),t},e.prototype.showFinish=function(){for(var t=0;t<this.map.length;t++)for(var e=function(e){var n=o.bgCubes["cube_"+t+"_"+e],i=o.cubes["cube_"+t+"_"+e];o.activeCubes["cube_"+t+"_"+e]&&(i.script.paint(0),i.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){n.active=!1,i.active=!1}))))},o=this,n=0;n<this.map[t].length;n++)e(n);this.activeCubes={}},e.prototype.resetAll=function(){if(this.map)for(var t=0;t<this.map.length;t++)for(var e=0;e<this.map[t].length;e++){var o=this.bgCubes["cube_"+t+"_"+e],n=this.cubes["cube_"+t+"_"+e];this.activeCubes["cube_"+t+"_"+e]&&(n.script.paint(0),n.script.restoreDark(),o.active=!1,n.active=!1)}this.activeCubes={}},i([p(cc.Prefab)],e.prototype,"cubePrefab",void 0),i([p()],e.prototype,"limitHeight",void 0),e=i([c],e)}(r.BaseComponent);o.GameMap=u,cc._RF.pop()},{"./GameLogic":"GameLogic","./base/BaseComponent":"BaseComponent"}],GameScene:[function(t,e,o){"use strict";cc._RF.push(e,"c4483KmpN9EnLHj4cH+SB7i","GameScene");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.GameScene=void 0;var r=t("./base/BaseComponent"),a=t("./base/MusicManager"),s=t("./base/Utils"),c=t("./GameLogic"),p=t("./DataFormat"),u=t("./sdk/sdk/SDKManager"),l=t("./sdk/sdk/SDKConfig"),h=t("./base/AnalyticsManager"),f=cc._decorator,d=f.ccclass,_=f.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bgPrefab=null,e.gameMapPrefab=null,e.groupMapPrefab=null,e.gameMainPrefab=null,e.gameFinishPrefab=null,e.settingPrefab=null,e.lvChoosePrefab=null,e.wishPrefab=null,e.bgframeArr=[],e.curDiffId=1,e.curMapId=1,e.special=1,e.gameMap=null,e.groupMap=null,e.energyNum=0,e.restoreEnergyFlg=!0,e.lastRecordTime=0,e.restoreTime=60,e.starNum=3,e.baseStepNum=0,e.stepNum=0,e.leveldata=null,e.diffWord=["\u65b0\u624b","\u5e38\u89c4","\u8fdb\u9636","\u9ad8\u7ea7","\u4e13\u5bb6","\u5927\u5e08","\u738b\u8005"],e.gameMain=null,e.bg=null,e.gameFinish=null,e}return n(e,t),e.prototype.onLoad=function(){h.AnalyticsManager.login(),cc.sys.platform===cc.sys.WECHAT_GAME?u.default.init(l.ChannelID.WX):u.default.init(l.ChannelID.DEV),u.default.getChannel().checkSession(function(t){console.log(" checkSession result ",t),u.default.getChannel().login("test",function(t){console.log(" login result ",t),t&&u.default.getChannel().getUserInfo("ssss","zh",function(t,e){console.log(" getUserInfo result ",t,e)})})}),p.DataFormat.init(),s.Utils._initBaseSize(),a.MusicManager.initConfig(),this.initWidget(),this.bg=cc.instantiate(this.bgPrefab),this._fire._lyBg.addChild(this.bg),this.bg.setPosition(0,0),this.gameMain=cc.instantiate(this.gameMainPrefab),this._fire._lyMain.addChild(this.gameMain),this.gameMain.setPosition(0,0),this.initEvent(),c.GameLogic.setMusicVolume(),c.GameLogic.setEffectVolume(),this._fire._btnWish.runAction(cc.moveTo(.1,-260,120)),s.Utils.doQAction(this._fire._btnWish)},e.prototype.onDestroy=function(){h.AnalyticsManager.logout()},e.prototype.initEvent=function(){cc.log("game scene initEvent");var t=this;yyp.eventCenter.on("check-finish",function(e){if(t.gameMap.script.checkFinish()){h.AnalyticsManager.levelComplete(t.curDiffId+"-"+t.curMapId),t._fire._nEnergy.active=!0,t._fire._nLevel.active=!1,a.MusicManager.playEffect("finish"),c.GameLogic.saveLvStar(t.curDiffId,t.curMapId,t.starNum);var o=t.curDiffId,n=t.curMapId+1,i=p.DataFormat.getDiffInfo(),r=i["diff_"+o];n>r.lvCount&&(n=1,null==(r=i["diff_"+(o=t.curDiffId+1)])&&(o=t.curDiffId,n=t.curMapId)),1!=this.special&&(c.GameLogic.saveLvStar(o,n,0),c.GameLogic.setCurrentLevel(o,n)),t.gameMap.script.showFinish(),t.groupMap.script.showFinish(),t.groupMap=null,t._fire._nGameBtns.active=!1,t._fire._btnWish.runAction(cc.moveTo(.1,-390,120)),t.gameFinish=cc.instantiate(t.gameFinishPrefab),t._fire._lyFinish.addChild(t.gameFinish),t.gameFinish.setPosition(0,0),t.gameFinish.script.show(t.curMapId,t.starNum)}},this),yyp.eventCenter.on("game-start",function(e){t._fire._btnWish.runAction(cc.moveTo(.1,-260,120)),t.gameStart(e.diffId,e.mapId,e.special)},this),yyp.eventCenter.on("game-star-update",function(e){t.stepNum=t.stepNum+1;var o=Math.floor(t.stepNum/t.baseStepNum);t.starNum=o<=1?3:o<=2?2:1},this),yyp.eventCenter.on("show-choose",function(e){t._fire._btnWish.runAction(cc.moveTo(.1,-390,120));var o=cc.instantiate(t.lvChoosePrefab);t.node.addChild(o,100),o.setPosition(0,0)},this),yyp.eventCenter.on("show-setting",function(e){t._fire._btnWish.runAction(cc.moveTo(.1,-390,120)),a.MusicManager.playEffect("btn"),s.Utils.showDialogs(t.settingPrefab).script.init(e.tag)},this),yyp.eventCenter.on("hide-setting",function(e){t._fire._btnWish.runAction(cc.moveTo(.1,-260,120))},this),yyp.eventCenter.on("return-main",function(e){t._fire._btnWish.runAction(cc.moveTo(.1,-260,120)),t._fire._nEnergy.active=!0,t._fire._nLevel.active=!1,t.gameMap.script.resetAll(),t.groupMap&&(t.groupMap.destroy(),t.groupMap=null),t._fire._nGameBtns.active=!1,t.gameMain=cc.instantiate(t.gameMainPrefab),t._fire._lyMain.addChild(t.gameMain),t.gameMain.setPosition(0,0)},this)},e.prototype.initWidget=function(){this.energyNum=c.GameLogic.getEnergy(),this.lastRecordTime=c.GameLogic.getEnergyTime(),this.refreshEnergy(),this.gameMap=cc.instantiate(this.gameMapPrefab),this._fire._nGameMap.addChild(this.gameMap),this.gameMap.setPosition(0,0),this._fire._nGameBtns.active=!1,this._fire._nAssets.y=yyp.safeTopBottom,this._fire._nCoin.y=yyp.safeTopBottom-30,this._fire._nCoin.zIndex=1001,this._fire._nLevel.active=!1},e.prototype.onTipClick=function(){if(h.AnalyticsManager.clickEvent("tip"),a.MusicManager.playEffect("btn"),this._fire._nCoin.script.count()>=20)this.groupMap.script.doCurrTipsItem(),yyp.eventCenter.emit("reduce-coin",{count:20,p:"\u63d0\u793a"}),this._refreshTip();else{u.default.showShare(0,function(){this.groupMap.script.doCurrTipsItem()})}},e.prototype._refreshTip=function(){this._fire._nCoin.script.count()>=20?(this._fire._tipCoin.active=!0,this._fire._tipShare.active=!1):(this._fire._tipCoin.active=!1,this._fire._tipShare.active=!0)},e.prototype.onSetClick=function(){yyp.eventCenter.emit("show-setting",{tag:1})},e.prototype.onResetClick=function(){h.AnalyticsManager.clickEvent("reset"),this.groupMap.script.resetAllItems(),a.MusicManager.playEffect("reset")},e.prototype.onEnergyBtnClick=function(){h.AnalyticsManager.clickEvent("EnergyBtn"),a.MusicManager.playEffect("btn"),cc.log("onEnergyBtnClick")},e.prototype.gameStart=function(t,e,o){if(this.energyNum>0){this._fire._nEnergy.active=!1,this._fire._nLevel.active=!0;var n=Math.floor((t+1)/3),i=(t+1)%3,r=this.diffWord[n];n>0&&(0==i?r+="A":1==i?r+="B":2==i&&(r+="C")),this._fire._lbLevel.$Label.string=r+" - "+e,this._fire._sprLv1.$Sprite.spriteFrame=this.bgframeArr[n],this.energyNum=this.energyNum-1,this.refreshEnergy(),this.starNum=3,this.baseStepNum=0,this.stepNum=0,this.curDiffId=t,this.curMapId=e,this.special=o,this.startGame(),h.AnalyticsManager.levelStart(t+"-"+e)}},e.prototype.startGame=function(){var t=this;p.DataFormat.getMapDataJsb(this.curDiffId,this.curMapId,function(e){t.leveldata=e,t.refreshGameMap(),t.createGroupMap()}),this._fire._nGameBtns.active=!0},e.prototype.refreshGameMap=function(){this.baseStepNum=this.leveldata.groupData.pos.length,this.gameMap.script.reloadMap(this.leveldata.paintData)},e.prototype.createGroupMap=function(){this.groupMap=cc.instantiate(this.groupMapPrefab),this._fire._nGroupMap.addChild(this.groupMap),this.groupMap.script.setMapScript(this.gameMap.script),this.groupMap.script.loadGroupMap(this.leveldata,!0)},e.prototype.refreshEnergy=function(){this.energyNum>=9?(this.energyNum=9,this.restoreEnergyFlg=!1,this._fire._lbEnergyTime.active=!1,this._fire._sprEnergyTime.active=!0):(this._fire._lbEnergyTime.active=!0,this._fire._sprEnergyTime.active=!1),c.GameLogic.setEnergy(this.energyNum),this._fire._lbEnergy.$Label.string=this.energyNum},e.prototype.update=function(t){if(this.restoreEnergyFlg){var e=(new Date).valueOf()/1e3-this.lastRecordTime,o=Math.floor(e/this.restoreTime);if(o>0)this.lastRecordTime=this.lastRecordTime+o*this.restoreTime,c.GameLogic.setEnergyTime(this.lastRecordTime),this.energyNum=this.energyNum+o,this.refreshEnergy();else{var n=this.restoreTime-e,i=Math.floor(n/60),r=Math.floor(n%60);this._fire._lbEnergyTime.$Label.string=this.PrefixZero(i,2)+":"+this.PrefixZero(r,2)}}else this.energyNum<9&&(this.restoreEnergyFlg=!0,this.lastRecordTime=(new Date).valueOf()/1e3,c.GameLogic.setEnergyTime(this.lastRecordTime),this._fire._lbEnergyTime.active=!0,this._fire._sprEnergyTime.active=!1);this._refreshTip()},e.prototype.onShareEnergyResult=function(t){u.default.getChannel().showToast("\u5206\u4eab\uff1a"+t),this.energyNum=this.energyNum+1,this.refreshEnergy()},e.prototype.onWishBtnClick=function(){h.AnalyticsManager.clickEvent("CoinBtn"),a.MusicManager.playEffect("btn"),s.Utils.showDialogs(this.wishPrefab)},e.prototype.PrefixZero=function(t,e){return(Array(e).join("0")+t).slice(-e)},i([_(cc.Prefab)],e.prototype,"bgPrefab",void 0),i([_(cc.Prefab)],e.prototype,"gameMapPrefab",void 0),i([_(cc.Prefab)],e.prototype,"groupMapPrefab",void 0),i([_(cc.Prefab)],e.prototype,"gameMainPrefab",void 0),i([_(cc.Prefab)],e.prototype,"gameFinishPrefab",void 0),i([_(cc.Prefab)],e.prototype,"settingPrefab",void 0),i([_(cc.Prefab)],e.prototype,"lvChoosePrefab",void 0),i([_(cc.Prefab)],e.prototype,"wishPrefab",void 0),i([_(cc.SpriteFrame)],e.prototype,"bgframeArr",void 0),e=i([d],e)}(r.BaseComponent);o.GameScene=g,cc._RF.pop()},{"./DataFormat":"DataFormat","./GameLogic":"GameLogic","./base/AnalyticsManager":"AnalyticsManager","./base/BaseComponent":"BaseComponent","./base/MusicManager":"MusicManager","./base/Utils":"Utils","./sdk/sdk/SDKConfig":"SDKConfig","./sdk/sdk/SDKManager":"SDKManager"}],GroupMap:[function(t,e,o){"use strict";cc._RF.push(e,"b6ee8lUif1F6Im7mXEWgWj+","GroupMap");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.GroupMap=void 0;var r=t("./base/BaseComponent"),a=t("./GameLogic"),s=t("./DataFormat"),c=t("./base/Utils"),p=cc._decorator,u=p.ccclass,l=p.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cubeItemPrefab=null,e.cubePrefab=null,e.mapWidth=640,e.mapHeight=220,e.mapScale=.5,e.mapCount=null,e.cubes={},e.cubeItems=[],e.bgCubeItems=[],e.gameMode=!1,e.targetMapScript=null,e.mapData=null,e.posData=null,e.tipColors=[],e.tipIndex=0,e.currentItem=null,e.allColors=[],e}return n(e,t),e.prototype.onLoad=function(){this.targetMapScript=this,this.initEvent()},e.prototype.initEvent=function(){this.node.on(cc.Node.EventType.TOUCH_START,this._onTouchBegan,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this._onTouchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this._onTouchEnded,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this._onTouchEnded,this)},e.prototype._onTouchBegan=function(t){for(var e=t.getLocation(),o=0;o<this.cubeItems.length;o++){var n=this.cubeItems[o];if(n.script.testPoint(e)){this.currentItem=n;break}}this.currentItem&&this.currentItem.script.doTouchBegan(e)},e.prototype._onTouchMove=function(t){if(this.currentItem){var e=t.getLocation();this.currentItem.script.doTouchMove(e)}},e.prototype._onTouchEnded=function(t){this.currentItem&&(this.currentItem.script.doTouchEnded(),this.currentItem=null)},e.prototype.getMapCount=function(t){var e={row:0,col:0};return e.row=Math.floor((this.mapHeight-20)/this.mapScale/a.GameLogic.cubeHeight),e.col=2*(Math.floor((this.mapWidth-20)/this.mapScale/a.GameLogic.cubeWidth)-1),e},e.prototype.baseMap=function(t,e){void 0===t&&(t=null),void 0===e&&(e=null),t&&(this.mapScale=t),this._fire._lyMap.scale=this.mapScale,this._fire._lbScale.$Label.string=""+Math.floor(100*(this.mapScale-.01))/100;var o=this.mapCount;this.mapCount=e||this.getMapCount(this.mapScale);var n=this.getRealMapSize();if(this._fire._lyMap.setPosition((this.mapWidth-n.width)/2,(this.mapHeight-n.height)/2),!this.gameMode){for(var i=0;i<this.mapCount.row;i++)for(var r=0;r<this.mapCount.col;r++)if(!this.cubes["cube_"+i+"_"+r]){var a=cc.instantiate(this.cubePrefab);this._fire._lyMap.addChild(a),a.script.initCube(i,r,0),this.cubes["cube_"+i+"_"+r]=a}if(o&&(this.mapCount.row<o.row||this.mapCount.col<o.col))for(i=0;i<o.row;i++)for(r=0;r<o.col;r++)(this.mapCount.row<=i||this.mapCount.col<=r)&&(this.cubes["cube_"+i+"_"+r].destroy(),this.cubes["cube_"+i+"_"+r]=void 0)}},e.prototype.getRealMapSize=function(){var t=cc.Size.ZERO;return t.width=(this.mapCount.col/2+1)*a.GameLogic.cubeWidth*this._fire._lyMap.scale,t.height=this.mapCount.row*a.GameLogic.cubeHeight*this._fire._lyMap.scale,t},e.prototype.getMapSize=function(){var t=cc.Size.ZERO;return t.width=(this.mapCount.col/2+1)*a.GameLogic.cubeWidth,t.height=this.mapCount.row*a.GameLogic.cubeHeight,t},e.prototype.newCubeItem=function(t,e,o,n){void 0===n&&(n=null);var i=cc.instantiate(this.cubeItemPrefab);return this._fire._lyMap.addChild(i),i.setPosition(o),n&&i.script.setBgMode(),this.gameMode&&(i.script.setSavePos(o),i.script.setMaxScale(this.targetMapScript.getMapScale()/this.mapScale),i.script.setGameMode()),i.script.loadCubeGroup(t,e,this.targetMapScript),i},e.prototype.setMapScript=function(t){this.targetMapScript=t},e.prototype.initWithMapData=function(){this.tipColors=this.getAllColorId(this.mapData);for(var t=this.posData?this.posData.length:this.tipColors.length,e=0;e<t;e++){var o=cc.Vec2.ZERO;this.posData&&this.posData[e]&&(o=this.posData[e]);var n=null;if(void 0!=o.r){var i=s.DataFormat.getRandomMap(o.r,o.c);(n=this.newCubeItem(i,o.c,o)).script.setRandom(o.c),0==this.gameMode&&n.script.setRandomTip(),this.allColors.push(o.c)}else n=this.newCubeItem(this.mapData,this.tipColors[e],o),this.allColors.push(this.tipColors[e]);n.zIndex=1,this.cubeItems.push(n)}this.scheduleOnce(this._generateNode,.01)},e.prototype._generateNode=function(){for(var t=0;t<this.cubeItems.length;t++){var e=cc.Vec2.ZERO;if(this.posData&&this.posData[t]&&(e=this.posData[t]),this.gameMode){var o=null;if(void 0!=e.r){var n=s.DataFormat.getRandomMap(e.r,e.c);o=this.newCubeItem(n,e.c,e,!0)}else o=this.newCubeItem(this.mapData,this.tipColors[t],e,!0);this.bgCubeItems.push(o)}}},e.prototype.doCurrTipsItem=function(){var t=this.tipColors[this.tipIndex],e=cc.Vec2.ZERO;this.posData&&this.posData[this.tipIndex]&&(e=this.posData[this.tipIndex]);var o=this.newCubeItem(this.mapData,t,e);o.zIndex=2,o.script.tips(),this.tipIndex=this.tipIndex+1,this.tipIndex=this.tipIndex>=this.tipColors.length?0:this.tipIndex},e.prototype.resetAllItems=function(){for(var t=0;t<this.cubeItems.length;t++){this.cubeItems[t].script.moveToSavePos()}},e.prototype.getAllColorId=function(t){for(var e=t.map,o=[],n=0;n<e.length;n++)for(var i=0;i<e[n].length;i++){var r=e[n][i];r>0&&0==c.Utils.isInList(r,o)&&o.push(r)}return o},e.prototype.getMatchCube=function(t){for(var e=0;e<this.mapCount.row;e++)for(var o=0;o<this.mapCount.col;o++){var n=this.cubes["cube_"+e+"_"+o];if(n&&(0==n.script.getColorId()||n.script.getColorId()==t.script.getColorId())&&n.script.shapeMatching(t.script)&&t.script.minBoxHitTest(n.script)&&0==this.getNeighbors(n))return n}return null},e.prototype.getNeighbors=function(t){var e=t.script.row,o=t.script.col,n=e%2==1,i=o%2==1,r=this.getCubes(e,o-1);if(r&&r.script.getColorId()>0)return!0;var a=this.getCubes(e,o-2);if(a&&a.script.getColorId()>0)return!0;var s=this.getCubes(e,o+1);if(s&&s.script.getColorId()>0)return!0;var c=this.getCubes(e,o+2);if(c&&c.script.getColorId()>0)return!0;var p=null;if(n)if(i){if((p=this.getCubes(e+1,o-1))&&p.script.getColorId()>0)return!0;if((p=this.getCubes(e+1,o-2))&&p.script.getColorId()>0)return!0;if((p=this.getCubes(e+1,o-3))&&p.script.getColorId()>0)return!0;if((p=this.getCubes(e+1,o))&&p.script.getColorId()>0)return!0;if((p=this.getCubes(e+1,o+1))&&p.script.getColorId()>0)return!0;if((p=this.getCubes(e-1,o-1))&&p.script.getColorId()>0)return!0;if((p=this.getCubes(e-1,o-2))&&p.script.getColorId()>0)return!0;if((p=this.getCubes(e-1,o))&&p.script.getColorId()>0)return!0}else{if((p=this.getCubes(e-1,o-1))&&p.script.getColorId()>0)return!0;if((p=this.getCubes(e-1,o-2))&&p.script.getColorId()>0)return!0;if((p=this.getCubes(e-1,o-3))&&p.script.getColorId()>0)return!0;if((p=this.getCubes(e-1,o))&&p.script.getColorId()>0)return!0;if((p=this.getCubes(e-1,o+1))&&p.script.getColorId()>0)return!0;if((p=this.getCubes(e+1,o-1))&&p.script.getColorId()>0)return!0;if((p=this.getCubes(e+1,o-2))&&p.script.getColorId()>0)return!0;if((p=this.getCubes(e+1,o))&&p.script.getColorId()>0)return!0}else if(i){if((p=this.getCubes(e+1,o+1))&&p.script.getColorId()>0)return!0;if((p=this.getCubes(e+1,o))&&p.script.getColorId()>0)return!0;if((p=this.getCubes(e+1,o-1))&&p.script.getColorId()>0)return!0;if((p=this.getCubes(e+1,o+2))&&p.script.getColorId()>0)return!0;if((p=this.getCubes(e+1,o+2))&&p.script.getColorId()>0)return!0;if((p=this.getCubes(e-1,o))&&p.script.getColorId()>0)return!0;if((p=this.getCubes(e-1,o+1))&&p.script.getColorId()>0)return!0;if((p=this.getCubes(e-1,o+2))&&p.script.getColorId()>0)return!0}else{if((p=this.getCubes(e-1,o-1))&&p.script.getColorId()>0)return!0;if((p=this.getCubes(e-1,o))&&p.script.getColorId()>0)return!0;if((p=this.getCubes(e-1,o+1))&&p.script.getColorId()>0)return!0;if((p=this.getCubes(e-1,o+2))&&p.script.getColorId()>0)return!0;if((p=this.getCubes(e-1,o+3))&&p.script.getColorId()>0)return!0;if((p=this.getCubes(e+1,o))&&p.script.getColorId()>0)return!0;if((p=this.getCubes(e+1,o+1))&&p.script.getColorId()>0)return!0;if((p=this.getCubes(e+1,o+2))&&p.script.getColorId()>0)return!0}return!1},e.prototype.getCubes=function(t,e){return t<0||e<0||t>this.mapCount.row||e>this.mapCount.col?null:this.cubes["cube_"+t+"_"+e]},e.prototype.getRelativeCube=function(t,e,o){var n=e.row+o.row,i=e.col+o.col,r=this.cubes["cube_"+n+"_"+i];return r&&0==r.script.getColorId()&&r.script.shapeMatching(t)?r:null},e.prototype.onScaleClick=function(t,e){t.target.getComponent(cc.Button).interactable=!1,t.target.runAction(cc.repeatForever(cc.sequence(cc.delayTime(.5),cc.callFunc(function(){t.target.getComponent(cc.Button).interactable=!0}))));var o=this.mapCount;do{"+"==e?this.mapScale=this.mapScale+.01:"-"==e&&(this.mapScale=this.mapScale-.01),o=this.getMapCount(this.mapScale)}while(o.row==this.mapCount.row&&o.col==this.mapCount.col);this.mapScale<=.3?this.mapScale=.3:this.mapScale>=.6&&(this.mapScale=.6),this.baseMap()},e.prototype.getRandomColor=function(){for(var t=1;t<15;t++){for(var e=!1,o=0;o<this.allColors.length;o++){if(t==this.allColors[o]){e=!0;break}}if(0==e)return this.allColors.push(t),t}},e.prototype.onAutoClick=function(t,e){for(var o=function(t){var e=n.cubeItems[t];e.runAction(cc.sequence(cc.delayTime(.1*t),cc.callFunc(function(){e.script.testMapping()})))},n=this,i=0;i<this.cubeItems.length;i++)o(i)},e.prototype.onNewClick=function(t,e){var o=this.getRandomColor(),n=s.DataFormat.getRandomMap(-1,o),i=this.newCubeItem(n,o,cc.Vec2.ZERO);i.zIndex=1,i.script.setRandom(n.index),i.script.setRandomTip(),this.cubeItems.push(i)},e.prototype.onDelClick=function(t,e){var o=this.cubeItems[this.cubeItems.length-1];o.script.isRandom()&&(this.cubeItems.pop(),o.script.removeMatchCubes(),o.destroy(),this.allColors.pop())},e.prototype.getMapData=function(){var t={};t.scale=this.mapScale,t.mapCount=this.mapCount,t.pos=[];for(var e=0;e<this.cubeItems.length;e++){var o=this.cubeItems[e],n=o.getPosition();if(o.script.isRandom()){var i=o.script.getRandomIndex();t.pos.push({x:n.x,y:n.y,r:i,c:o.script.getItemColorId()})}else t.pos.push({x:n.x,y:n.y})}return t},e.prototype.loadGroupMap=function(t,e){this.gameMode=e,this.gameMode&&(this._fire._lyControl.active=!1);var o=t.groupData?t.groupData.scale:this.mapScale,n=t.groupData?t.groupData.mapCount:this.mapCount,i=t.groupData?t.groupData.pos:null;this.mapData=t.paintData,this.posData=i,this.baseMap(o,n),this.initWithMapData()},e.prototype.destroySelf=function(){for(var t=0;t<this.mapCount.row;t++)for(var e=0;e<this.mapCount.col;e++){this.cubes["cube_"+t+"_"+e].destroy()}for(var o=0;o<this.cubeItems.length;o++){var n=this.cubeItems[o];n.script.destroySelf(),n.destroy()}this.cubeItems=[]},e.prototype.clearAllItems=function(){if(this.mapCount)for(var t=0;t<this.mapCount.row;t++)for(var e=0;e<this.mapCount.col;e++){var o=this.cubes["cube_"+t+"_"+e];o.script.paint(0),o.script.restoreDark()}for(var n=0;n<this.cubeItems.length;n++){var i=this.cubeItems[n];i.script.destroySelf(),i.destroy()}this.cubeItems=[]},e.prototype.showFinish=function(){for(var t=0;t<this.cubeItems.length;t++){this.cubeItems[t].script.showDropFinish()}for(var e=0;e<this.cubeItems.length;e++){this.bgCubeItems[e].script.showFadeFinish()}this._fire._sprBg.runAction(cc.fadeOut(.3)),this.node.runAction(cc.sequence(cc.delayTime(1.3),cc.removeSelf()))},i([l(cc.Prefab)],e.prototype,"cubeItemPrefab",void 0),i([l(cc.Prefab)],e.prototype,"cubePrefab",void 0),i([l()],e.prototype,"mapWidth",void 0),i([l()],e.prototype,"mapHeight",void 0),i([l()],e.prototype,"mapScale",void 0),e=i([u],e)}(r.BaseComponent);o.GroupMap=h,cc._RF.pop()},{"./DataFormat":"DataFormat","./GameLogic":"GameLogic","./base/BaseComponent":"BaseComponent","./base/Utils":"Utils"}],HomeView:[function(t,e,o){"use strict";cc._RF.push(e,"319e1wCpclNprkaiquFQf5E","HomeView");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,s=r.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="hello",e}return n(e,t),e.prototype.start=function(){},i([s(cc.Label)],e.prototype,"label",void 0),i([s],e.prototype,"text",void 0),e=i([a],e)}(cc.Component);o.default=c,cc._RF.pop()},{}],InsertAdComp:[function(t,e,o){"use strict";cc._RF.push(e,"014c474E+pLKZ+HOD+39uZf","InsertAdComp");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../SDKManager"),a=cc._decorator,s=a.ccclass,c=a.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.adSite=0,e}return n(e,t),e.prototype.onLoad=function(){this.node.active=r.default.getChannel().hasInsertAd(),this.node.active&&r.default.getChannel().showInsertAd(this.adSite)},e.prototype.onDestroy=function(){},i([c],e.prototype,"adSite",void 0),e=i([s],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../SDKManager":"SDKManager"}],InstallIconComp:[function(t,e,o){"use strict";cc._RF.push(e,"b40c9rO1iJJxKjy/wv6WQWD","InstallIconComp");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../SDKManager"),a=t("../SDKConfig"),s=cc._decorator,c=s.ccclass,p=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.callback=new cc.Component.EventHandler,e}return n(e,t),e.prototype.start=function(){var t=this;r.default.getChannel().canInstallShortcut(function(e){t.node.active=e!=a.ResultState.NO,t.node.active&&t.node.on(cc.Node.EventType.TOUCH_END,t.onButtonClick,t)})},e.prototype.onButtonClick=function(){var t=this;r.default.getChannel().installShortcut(function(e){t.node.active=e!=a.ResultState.YES,cc.log(" this.node.active ",t.node.active),t.callback.emit([e])})},i([p({type:cc.Component.EventHandler,displayName:"\u56de\u8c03\u51fd\u6570"})],e.prototype,"callback",void 0),e=i([c],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../SDKManager":"SDKManager"}],LinkPrefab:[function(t,e,o){"use strict";cc._RF.push(e,"2a5a9mBx69AKYA5qQIPfsGf","LinkPrefab");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.LinkPrefab=void 0;var r=cc._decorator,a=r.ccclass,s=r.executeInEditMode,c=r.property;var p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._prefabNode=null,e._prefab=null,e}return n(e,t),Object.defineProperty(e.prototype,"prefab",{get:function(){return this._prefab},set:function(t){this._onPrefabChanged(this._prefab,t)},enumerable:!1,configurable:!0}),e.prototype._onPrefabChanged=function(t,e){if(this._prefabNode&&(this._prefabNode.destroy(),this._prefabNode=null),this._prefab=e,e){var o=cc.instantiate(e);o&&(this._prefabNode=o,o._objFlags|=cc.Object.Flags.DontSave|cc.Object.Flags.LockedInEditor|cc.Object.Flags.HideInHierarchy,o.x=0,o.y=0,this.node.addChild(o,-1),o.name="prefabNode",this.node.setContentSize(o.getContentSize()),this.node.anchorX=o.anchorX,this.node.anchorY=o.anchorY)}},e.prototype.onLoad=function(){this._initPrefab()},e.prototype._initPrefab=function(){if(this._prefab&&!this._prefabNode){var t=cc.instantiate(this._prefab);t&&(t.x=this.node.x,t.y=this.node.y,t.scale=this.node.scale,t.y=this.node.y,t.angle=this.node.angle,t.opacity=this.node.opacity,t.zIndex=this.node.zIndex,t.parent=this.node.parent,t.name=this.node.name,this.node.__RootScript__&&this.node.__RootScript__._fire&&this.node.__RootScript__._fire[t.name]&&(this.node.__RootScript__._fire[t.name]=t),this._prefabNode=t,this.node.destroy())}},i([c(cc.Prefab)],e.prototype,"_prefab",void 0),i([c({type:cc.Prefab,visible:!0,displayName:"\u9884\u5236\u4f53"})],e.prototype,"prefab",null),e=i([a,s],e)}(cc.Component);o.LinkPrefab=p,cc._RF.pop()},{}],LocalizedData:[function(t,e,o){"use strict";cc._RF.push(e,"a8258/WcnZHwLUVxMKYBjP+","LocalizedData");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.LocalizedData=void 0;var r=cc._decorator,a=r.ccclass,s=(r.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var o;return n(e,t),o=e,e._isValid=function(t){return null!=t&&(void 0!=t&&(""!=t&&(null!=t&&void 0!=t&&""!=t)))},e._getItem=function(t){var e=cc.sys.localStorage.getItem(t);return this._isValid(e)?e:null},e.getIntItem=function(t,e){var n=o._getItem(t);return n?parseInt(n):e},e.getStringItem=function(t,e){var n=o._getItem(t);return n||e},e.getJsonItem=function(t,e){var n=o._getItem(t);return n?JSON.parse(n):e},e._setItem=function(t,e){cc.sys.localStorage.setItem(t,e)},e.setIntItem=function(t,e){o._setItem(t,e)},e.setStringItem=function(t,e){o._setItem(t,e)},e.setJsonItem=function(t,e){o._setItem(t,JSON.stringify(e))},e._startLoad=!1,e._isLoaded=!1,e._loadIndex=0,e._loadList=["Level","Player","Enemy"],e._config={},e=o=i([a],e)}(cc.Component));o.LocalizedData=s,cc._RF.pop()},{}],LvChoose:[function(t,e,o){"use strict";cc._RF.push(e,"08902J4tBpCpbSlw6EuP2Jl","LvChoose");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.LvChoose=void 0;var r=t("./base/BaseComponent"),a=t("./GameLogic"),s=t("./DataFormat"),c=t("./base/MusicManager"),p=cc._decorator,u=p.ccclass,l=p.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.BtnPrefab=null,e.pagePrefab=null,e.normalSpriteFrame=null,e.currentSpriteFrame=null,e.lockSpriteFrame=null,e.crownSpriteFrame=null,e.btnCount=0,e.spacing=20,e.btnHeight=130,e.type=0,e.currentLv={},e}return n(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){this.currentLv=a.GameLogic.getCurrentLevel(),this.initBtn(),this.initPage(this.currentLv.diff),this._fire._pvLevel.active=!0,this._fire._svLevel.active=!1},e.prototype.initBtn=function(){for(var t=s.DataFormat.getDiffInfo(),e=1;e<10;e++){t["diff_"+e]&&(this.btnCount=this.btnCount+1)}this._fire._svContent.height=this.btnCount*(this.btnHeight+this.spacing)+this.spacing;for(e=0;e<this.btnCount;e++){var o=e+1,n=t["diff_"+o],i=cc.instantiate(this.BtnPrefab);i.diffId=o,this._fire._svContent.addChild(i),i.setPosition(0,-this.btnHeight*(.5+e)-this.spacing*(e+1)),i.on("click",this.onDiffBtn,this),cc.find("lbTitle",i).getComponent(cc.Label).string=n.name;var r="";o<this.currentLv.diff?(r="80",cc.find("sprStar",i).getComponent(cc.Sprite).spriteFrame=this.crownSpriteFrame):r=o>this.currentLv.diff?"0":""+(this.currentLv.map-1),cc.find("lbLevel",i).getComponent(cc.Label).string=r+"/80"}},e.prototype.onDiffBtn=function(t){cc.log("on click ",t.node.diffId),c.MusicManager.playEffect("btn"),this._fire._svLevel.active=!1,this._fire._pvLevel.active=!0,this.initPage(t.node.diffId)},e.prototype.initPage=function(t){var e=s.DataFormat.getDiffInfo()["diff_"+t];this._fire._lbTitle.$Label.string=e.name;for(var o=this._fire._pvLevel.$PageView,n=o.getPages(),i=0;i<4;i++){var r=n[i];void 0==r&&((r=cc.instantiate(this.pagePrefab)).setPosition(0,0),o.addPage(r)),this.bindPageData(t,r,i)}if(this.currentLv.diff==t){var a=Math.floor(this.currentLv.map/20);this.scheduleOnce(function(){o.setCurrentPageIndex(a)},.1)}else o.setCurrentPageIndex(0)},e.prototype.bindPageData=function(t,e,o){for(var n=a.GameLogic.getDiffLvStar(t),i=0;i<20;i++){var r=20*o+i+1,s=n[r],c=cc.find("btn"+(i+1),e);c.script.setChooseScript(this),c.script.setLevel(t,r),c.script.setStar(s,this.currentLv)}},e.prototype.onPageEvent=function(t,e){if(e===cc.PageView.EventType.PAGE_TURNING){var o=t.getCurrentPageIndex();console.log("\u5f53\u524d\u6240\u5728\u7684\u9875\u9762\u7d22\u5f15:"+o)}},e.prototype.onBack=function(){c.MusicManager.playEffect("btn"),this._fire._pvLevel.active?(this._fire._pvLevel.active=!1,this._fire._svLevel.active=!0):this._fire._svLevel.active&&(yyp.eventCenter.emit("return-main",{}),this.node.destroy())},i([l(cc.Prefab)],e.prototype,"BtnPrefab",void 0),i([l(cc.Prefab)],e.prototype,"pagePrefab",void 0),i([l(cc.SpriteFrame)],e.prototype,"normalSpriteFrame",void 0),i([l(cc.SpriteFrame)],e.prototype,"currentSpriteFrame",void 0),i([l(cc.SpriteFrame)],e.prototype,"lockSpriteFrame",void 0),i([l(cc.SpriteFrame)],e.prototype,"crownSpriteFrame",void 0),e=i([u],e)}(r.BaseComponent);o.LvChoose=h,cc._RF.pop()},{"./DataFormat":"DataFormat","./GameLogic":"GameLogic","./base/BaseComponent":"BaseComponent","./base/MusicManager":"MusicManager"}],Main:[function(t,e,o){"use strict";cc._RF.push(e,"f8e6cwGUzNBA6DqiaH2fJSX","Main");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./sdk/SDKManager"),a=t("./sdk/SDKConfig"),s=t("../base/AnalyticsManager"),c=cc._decorator,p=c.ccclass,u=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.BannerView=null,e.nativeView=null,e.insertView=null,e}return n(e,t),e.prototype.start=function(){if(cc.log(cc.sys.MOBILE_BROWSER),cc.log(cc.sys.DESKTOP_BROWSER),cc.log(cc.sys.EDITOR_PAGE),cc.log(cc.sys.EDITOR_CORE),cc.log(cc.sys.WECHAT_GAME),cc.log(cc.sys.QQ_PLAY),cc.log(cc.sys.FB_PLAYABLE_ADS),cc.log(cc.sys.BAIDU_GAME),cc.log(cc.sys.VIVO_GAME),cc.log(cc.sys.OPPO_GAME),cc.log(cc.sys.HUAWEI_GAME),cc.log(cc.sys.XIAOMI_GAME),cc.log(cc.sys.JKW_GAME),cc.log(cc.sys.ALIPAY_GAME),cc.log(cc.sys.WECHAT_GAME_SUB),cc.log(cc.sys.BAIDU_GAME_SUB),cc.log(cc.sys.QTT_GAME),cc.log(cc.sys.BYTEDANCE_GAME),cc.log(cc.sys.BYTEDANCE_GAME_SUB),cc.log(cc.sys.LINKSURE),cc.log(cc.sys.BROWSER_TYPE_WECHAT),cc.log(cc.sys.BROWSER_TYPE_ANDROID),cc.log(cc.sys.BROWSER_TYPE_IE),cc.log(cc.sys.BROWSER_TYPE_EDGE),cc.log(cc.sys.BROWSER_TYPE_QQ),cc.log(cc.sys.BROWSER_TYPE_MOBILE_QQ),cc.log(cc.sys.BROWSER_TYPE_UC),cc.log(cc.sys.BROWSER_TYPE_UCBS),cc.log(cc.sys.BROWSER_TYPE_360),cc.log(cc.sys.BROWSER_TYPE_BAIDU_APP),cc.log(cc.sys.BROWSER_TYPE_BAIDU),cc.log(cc.sys.BROWSER_TYPE_MAXTHON),cc.log(cc.sys.BROWSER_TYPE_OPERA),cc.log(cc.sys.BROWSER_TYPE_OUPENG),cc.log(cc.sys.BROWSER_TYPE_MIUI),cc.log(cc.sys.BROWSER_TYPE_FIREFOX),cc.log(cc.sys.BROWSER_TYPE_SAFARI),cc.log(cc.sys.BROWSER_TYPE_CHROME),cc.log(cc.sys.BROWSER_TYPE_LIEBAO),cc.log(cc.sys.BROWSER_TYPE_QZONE),cc.log(cc.sys.BROWSER_TYPE_SOUGOU),cc.log(cc.sys.BROWSER_TYPE_UNKNOWN),cc.sys.platform===cc.sys.WECHAT_GAME);r.default.init(a.ChannelID.DEV),r.default.getChannel().checkSession(function(t){r.default.getChannel().login("test",function(t){t&&r.default.getChannel().getUserInfo("ssss","zh",function(t,e){console.log(" getUserInfo result ",t,e)})})}),s.AnalyticsManager.login()},e.prototype.onShareResult=function(t){r.default.getChannel().showToast("\u5206\u4eab\uff1a"+t)},e.prototype.onButtonOpenBannerClick=function(){this.node.addChild(cc.instantiate(this.BannerView))},e.prototype.onButtonInsertClick=function(){this.node.addChild(cc.instantiate(this.insertView))},e.prototype.onButtonNativeClick=function(){this.node.addChild(cc.instantiate(this.nativeView))},e.prototype.onRewardAdResult=function(t){r.default.getChannel().showToast("\u6fc0\u52b1\u89c6\u9891\u5c55\u793a\uff1a"+t)},e.prototype.onInstallIconResult=function(t){r.default.getChannel().showToast("\u5b89\u88c5\u56fe\u6807\uff1a"+t)},e.prototype.onBtnClick=function(t){s.AnalyticsManager.virtualGet(20,500,"\u91d1\u5e01","\u89c6\u9891"),s.AnalyticsManager.virtualConsume(10,490,"\u91d1\u5e01","\u63d0\u793a"),s.AnalyticsManager.levelStart("1-1"),s.AnalyticsManager.levelComplete("1-1"),s.AnalyticsManager.levelStart("1-2"),s.AnalyticsManager.levelFailed("1-2","\u65f6\u95f4\u5230\u4e86"),s.AnalyticsManager.videoADStart("yyp-1"),s.AnalyticsManager.videoADComplete("yyp-1","15","20\u94bb\u77f3"),s.AnalyticsManager.videoADStart("yyp-2"),s.AnalyticsManager.videoADFailed("yyp-2","\u9000\u51fa"),s.AnalyticsManager.customEvent("yyp-custom-1",{key1:10,key2:"hahah"}),s.AnalyticsManager.customEvent("yyp-custom-2",{key1:20}),s.AnalyticsManager.customEvent("yyp-custom-3",{})},i([u(cc.Prefab)],e.prototype,"BannerView",void 0),i([u(cc.Prefab)],e.prototype,"nativeView",void 0),i([u(cc.Prefab)],e.prototype,"insertView",void 0),e=i([p],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../base/AnalyticsManager":"AnalyticsManager","./sdk/SDKConfig":"SDKConfig","./sdk/SDKManager":"SDKManager"}],MapChoose:[function(t,e,o){"use strict";cc._RF.push(e,"9730eKGBedO35CunpejjO8K","MapChoose");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.MapChoose=void 0;var r=t("./base/Dialogs"),a=t("./DataFormat"),s=cc._decorator,c=s.ccclass,p=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dataCount=0,e.diffId=1,e.diffBtns={},e}return n(e,t),e.prototype.onLoad=function(){this.initDiffBtns()},e.prototype.setDiffId=function(t){this.diffId=t},e.prototype._openedCallback=function(){this.changeDiffBtnState(this.diffId),this.resetDiffMap(this.diffId)},e.prototype.initDiffBtns=function(){for(var t=a.DataFormat.getDiffInfo(),e=1;e<100;e++){var o=t["diff_"+e];if(!o)break;cc.log("aaa ",e,o.name);var n=null;e>1?((n=cc.instantiate(this._fire._btnDiff)).setPosition(this._fire._btnDiff.x,this._fire._btnDiff.y-50*(e-1)),this._fire._btnDiff.parent.addChild(n)):n=this._fire._btnDiff,n.diffId=e,cc.find("lbDiff",n).getComponent(cc.Label).string=o.name,this.diffBtns[e]=n}},e.prototype.resetDiffMap=function(t){var e=this._fire._svLevel.$ScrollView.content;e.removeAllChildren();var o=a.DataFormat.getDiffInfo()["diff_"+t],n=Math.ceil(o.lvCount/4);e.height=n*(this._fire._lyBtnCell.height+10)+10;for(var i=0;i<n;i++){var r=cc.instantiate(this._fire._lyBtnCell);r.setPosition(0,-this._fire._lyBtnCell.height/2-(this._fire._lyBtnCell.height+10)*i-10),e.addChild(r);for(var s=0;s<4;s++){var c=4*i+s+1;if(c<=o.lvCount){var p=cc.find("btn"+(s+1),r),u=cc.find("lb",p);u.getComponent(cc.Label).string=t+"-"+c,a.DataFormat.isMapExist(t,c)&&(u.color=cc.Color.GREEN)}else{(p=cc.find("btn"+(s+1),r)).active=!1}}}},e.prototype.onBtnClick=function(t,e){var o=cc.find("lb",t.target).getComponent(cc.Label).string;yyp.eventCenter.emit("choose-map",{mapId:o}),this.close()},e.prototype.onCloseClick=function(t,e){this.close()},e.prototype.onDiffBtnClick=function(t,e){cc.log("aaa ",t.target.diffId),this.changeDiffBtnState(t.target.diffId),this._fire._svLevel.$ScrollView.content.removeAllChildren(),this.resetDiffMap(t.target.diffId)},e.prototype.changeDiffBtnState=function(t){for(var e=1;e<100;e++){var o=this.diffBtns[e];if(!o)break;o.diffId==t?o.scale=1.2:o.scale=1}},e=i([c],e)}(r.Dialogs));o.MapChoose=p,cc._RF.pop()},{"./DataFormat":"DataFormat","./base/Dialogs":"Dialogs"}],MusicManager:[function(t,e,o){"use strict";cc._RF.push(e,"6a2c785fGJFQZNpmhySQEsV","MusicManager");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.MusicManager=void 0;var r=cc._decorator,a=r.ccclass,s=(r.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var o;return n(e,t),o=e,e.initConfig=function(){if(0==o._startLoad){for(var t in o._startLoad=!0,o._loadList=[],yyp.config.Music)if(yyp.config.Music.hasOwnProperty(t)){yyp.config.Music[t];o._loadList.push(t)}o._preload()}},e._preload=function(){var t=o._loadList[o._loadIndex];yyp.bundle.load("sfx/"+t,cc.AudioClip,function(e,n){if(o._loadIndex+=1,n instanceof cc.AudioClip){var i=yyp.config.Music[t];i.content=n,1==i.PlayOnload&&o.playMusic(t)}o._loadIndex>=o._loadList.length||o._preload()})},e.playMusic=function(t){var e=yyp.config.Music[t];e&&e.content&&cc.audioEngine.playMusic(e.content,!0)},e.playEffect=function(t){var e=yyp.config.Music[t];e&&e.content&&cc.audioEngine.playEffect(e.content,!1)},e._startLoad=!1,e._loadIndex=0,e._loadList=[],e=o=i([a],e)}(cc.Component));o.MusicManager=s,cc._RF.pop()},{}],Music:[function(t,e,o){"use strict";cc._RF.push(e,"8fbeb9NjMdPMZhU7VaerZ9F","Music"),yyp.config.Music={bg:{Type:"bg",Path:"bg.mp3",Genre:0,PlayOnload:1},btn:{Type:"btn",Path:"btn.mp3",Genre:1,PlayOnload:0},finish:{Type:"finish",Path:"finish.mp3",Genre:1,PlayOnload:0},reset:{Type:"reset",Path:"reset.mp3",Genre:1,PlayOnload:0},right:{Type:"right",Path:"right.mp3",Genre:1,PlayOnload:0},select:{Type:"select",Path:"select.mp3",Genre:1,PlayOnload:0},unselect:{Type:"unselect",Path:"unselect.mp3",Genre:1,PlayOnload:0},coin:{Type:"coin",Path:"coin.mp3",Genre:1,PlayOnload:0}},cc._RF.pop()},{}],NativeAdItemView:[function(t,e,o){"use strict";cc._RF.push(e,"4c9e62RqghDEYmPrNN+Re2/","NativeAdItemView");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../SDKManager"),a=t("../SDKConfig"),s=cc._decorator,c=s.ccclass,p=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.adImage=null,e.title=null,e}return n(e,t),e.prototype.start=function(){},e.prototype.setModel=function(t){var e=this;this.model=t,this.title.string=this.model.getTitle();var o=this.model.getImgList();o&&cc.assetManager.loadRemote(o[a.random(0,o.length)],function(t,o){t?console.log(" err ",t):(e.adImage.spriteFrame=new cc.SpriteFrame(o),r.default.getChannel().reportAdShow(e.model.getID()))})},e.prototype.onButtonClick=function(){r.default.getChannel().reportAdClick(this.model.getID())},i([p(cc.Sprite)],e.prototype,"adImage",void 0),i([p(cc.Label)],e.prototype,"title",void 0),e=i([c],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../SDKManager":"SDKManager"}],NativeComp:[function(t,e,o){"use strict";cc._RF.push(e,"e13e3wJeFJC/reKX1GgxvJF","NativeComp");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../SDKManager"),a=t("./NativeAdItemView"),s=cc._decorator,c=s.ccclass,p=s.property,u=(s.requireComponent,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.adSite=0,e.nativeAdItemView=null,e.pageView=null,e}return n(e,t),e.prototype.start=function(){var t=this;r.default.getChannel().showNativeAd(this.adSite,function(e){if(e.length>0)for(var o=0;o<e.length;o++){var n=e[o],i=cc.instantiate(t.nativeAdItemView),r=i.getComponent(a.default);t.pageView.addPage(i),r&&r.setModel(n)}})},e.prototype.onDestroy=function(){r.default.getChannel().hideNativeAd()},e.prototype.onButtonClick=function(){},i([p],e.prototype,"adSite",void 0),i([p(cc.Prefab)],e.prototype,"nativeAdItemView",void 0),i([p(cc.PageView)],e.prototype,"pageView",void 0),e=i([c],e)}(cc.Component));o.default=u,cc._RF.pop()},{"../SDKManager":"SDKManager","./NativeAdItemView":"NativeAdItemView"}],NativeView:[function(t,e,o){"use strict";cc._RF.push(e,"91bcfffA9FGIIahW5aa4fRQ","NativeView");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../sdk/SDKManager"),a=cc._decorator,s=a.ccclass,c=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.start=function(){},e.prototype.onButtonBackClick=function(){this.node.destroy(),r.default.getChannel().showToast("\u5173\u95edNativeView")},e=i([s],e)}(cc.Component));o.default=c,cc._RF.pop()},{"../sdk/SDKManager":"SDKManager"}],OppoBannerAd:[function(t,e,o){"use strict";cc._RF.push(e,"8df7dERVnZPybGdUJkGZeHh","OppoBannerAd");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var i=t("../base/BaseAd"),r=t("../SDKConfig"),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.open=function(t){this.destroy(),this.create(t),this.show()},e.prototype.onError=function(t){this.channel.showToast("banner onError"+t),this.setState(r.SDKState.loadFail)},e.prototype.onLoad=function(){this.setState(r.SDKState.loadSucess),this.channel.showToast("banner onLoad")},e.prototype.close=function(){this.instance&&this.hide()},e.prototype.onResize=function(t){console.log("banner onResize",t)},e.prototype.create=function(t){this.adUnitID=t;qg.getSystemInfoSync();this.instance=qg.createBannerAd({adUnitId:this.adUnitID,style:{}}),this.instance.onLoad(this.onLoad.bind(this)),this.instance.onError(this.onError.bind(this)),this.instance.onResize(this.onResize.bind(this))},e.prototype.show=function(){this.state=r.SDKState.open,this.instance&&this.instance.show(),console.log(" banner show ")},e.prototype.hide=function(){console.log(" banner hide "),this.state=r.SDKState.close,this.instance&&this.instance.hide()},e.prototype.destroy=function(){this.instance&&(this.instance.offLoad(this.onLoad.bind(this)),this.instance.offError(this.onError.bind(this)),this.instance.offResize(this.onResize.bind(this)),this.instance.destroy(),this.instance=null)},e}(i.default);o.default=a,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../base/BaseAd":"BaseAd"}],OppoChannel:[function(t,e,o){"use strict";cc._RF.push(e,"110a7uMgSZCoqUyV+OgKQih","OppoChannel");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var i=t("../base/BaseChannel"),r=t("../SDKConfig"),a=t("./OppoRewardAd"),s=t("./OppoBannerAd"),c=t("./OppoInsertAd"),p=t("./OppoNativeAd"),u=t("./OppoSubPackage"),l=t("./OppoScreenshot"),h=function(t){function e(e){var o=t.call(this,e)||this;return console.log("OppoChannel  constructor "),qg.onShow(function(){console.log("OppoChannel  onShow ")}),qg.onHide(function(){console.log("OppoChannel  onHide ")}),qg.createRewardedVideoAd&&(o.rewardAd=new a.default(o)),qg.createBannerAd&&(o.bannerAd=new s.default(o)),qg.createInsertAd&&(o.insertAd=new c.default(o)),qg.createNativeAd&&(o.nativeAd=new p.default(o)),console.log("OppoChannel  constructor  222222"),o.subPackage=new u.default(o),o.screenshot=new l.default(o),o}return n(e,t),e.prototype.showToast=function(t){qg.showToast({title:t})},e.prototype.vibrateShort=function(){qg.vibrateShort({success:function(t){},fail:function(t){},complete:function(t){}})},e.prototype.canInstallShortcut=function(t){qg.hasShortcutInstalled({success:function(e){t(0==e?r.ResultState.YES:r.ResultState.NO)},fail:function(e){t(r.ResultState.NO)},complete:function(){}})},e.prototype.installShortcut=function(t){qg.installShortcut({success:function(e){console.log(" \u5b89\u88c5\u6210\u529f ",e),t(r.ResultState.YES)},fail:function(e){console.log(" \u5b89\u88c5\u5931\u8d25 ",e),t(r.ResultState.NO)},complete:function(){}})},e.prototype.setLoadingProgress=function(t){qg.setLoadingProgress({progress:t})},e.prototype.loadingComplete=function(){qg.loadingComplete({complete:function(t){}})},e.prototype.navigateToMiniGame=function(t){qg.navigateToMiniGame({pkgName:t,success:function(){},fail:function(t){}})},e.prototype.previewImage=function(t){qg.previewImage({urls:[t],success:function(t){cc.log("Preview image success.")}})},e}(i.default);o.default=h,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../base/BaseChannel":"BaseChannel","./OppoBannerAd":"OppoBannerAd","./OppoInsertAd":"OppoInsertAd","./OppoNativeAd":"OppoNativeAd","./OppoRewardAd":"OppoRewardAd","./OppoScreenshot":"OppoScreenshot","./OppoSubPackage":"OppoSubPackage"}],OppoInsertAd:[function(t,e,o){"use strict";cc._RF.push(e,"78be0K6ic9ODZHaOhUMUylU","OppoInsertAd");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var i=t("../base/BaseAd"),r=t("../SDKConfig"),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.open=function(t){console.log("BaseInterstitialAd showAd this.state ",this.state),this.state=r.SDKState.loading,this.create(t),this.load()},e.prototype.onLoad=function(){console.log(" \u63d2\u5c4f\u5e7f\u544a\u52a0\u8f7d\u6210\u529f"),this.setState(r.SDKState.loadSucess),this.show()},e.prototype.onError=function(t){console.log(" \u63d2\u5c4f\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25 ",t),this.setState(r.SDKState.loadFail)},e.prototype.create=function(t){console.log(" show insert ad "),this.adUnitID=t,this.instance||(this.instance=qg.createInsertAd({adUnitId:t}),this.instance.onLoad(this.onLoad.bind(this)),this.instance.onError(this.onError.bind(this)))},e.prototype.load=function(){console.log(" load ad "),this.instance.load()},e.prototype.show=function(){console.log(" show ad "),this.instance.show()},e}(i.default);o.default=a,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../base/BaseAd":"BaseAd"}],OppoNativeAdItemModel:[function(t,e,o){"use strict";cc._RF.push(e,"56342AtaTxBpIEHpKW79rW+","OppoNativeAdItemModel");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.initWithOppo=function(t){this.adId=t.adId,this.title=t.title,this.desc=t.desc,this.iconUrlList=t.iconUrlList,this.imgUrlList=t.imgUrlList,this.logoUrl=t.logoUrl,this.clickBtnTxt=t.clickBtnTxt,this.creativeType=t.creativeType,this.interactionType=t.interactionType},e.prototype.getShowImageList=function(){return this.getImgList()},e.prototype.getID=function(){return this.adId},e.prototype.getTitle=function(){return this.title},e.prototype.getDesc=function(){return this.desc},e.prototype.getIconList=function(){return this.iconUrlList},e.prototype.getImgList=function(){return this.imgUrlList},e.prototype.getButtonText=function(){return this.clickBtnTxt},e}(t("../base/BaseNativeAdItemModel").default);o.default=i,cc._RF.pop()},{"../base/BaseNativeAdItemModel":"BaseNativeAdItemModel"}],OppoNativeAd:[function(t,e,o){"use strict";cc._RF.push(e,"d473bHVlWxI+LFxetCJxJBF","OppoNativeAd");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var i=t("./OppoNativeAdItemModel"),r=t("../SDKConfig"),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.adItems=[],e}return n(e,t),e.prototype.open=function(t,e){this.state=r.SDKState.loading,this.callback=e,this.create(t),this.load()},e.prototype.close=function(){this.callback=null},e.prototype.onError=function(t){this.setState(r.SDKState.loadFail),console.log(" BaseNativeAd onError err ",t),this.callback&&this.callback([])},e.prototype.onLoad=function(t){if(this.setState(r.SDKState.loadSucess),console.log("onLoad ",t.adList),this.adItems.length=0,t.adList){for(var e=0;e<t.adList.length;e++){var o=t.adList[e],n=new i.default;n.initWithOppo(o),this.reportAdShow(n.getID()),this.adItems.push(n)}this.callback&&this.callback(this.adItems)}},e.prototype.create=function(t){this.instanceMap[t]?this.instance=this.instanceMap[t]:(this.instance=qg.createNativeAd({adUnitId:t}),this.instance.onLoad(this.onLoad.bind(this)),this.instance.onError(this.onError.bind(this)),this.instanceMap[t]=this.instance)},e.prototype.load=function(){this.instance.load()},e.prototype.reportAdClick=function(t){this.instance&&(console.log("reportAdClick ",t),this.instance.reportAdClick({adId:t}))},e.prototype.reportAdShow=function(t){this.instance&&(console.log("reportAdShow ",t),this.instance.reportAdShow({adId:t}))},e.prototype.destroy=function(){this.instance.destroy()},e}(t("../base/BaseAd").default);o.default=a,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../base/BaseAd":"BaseAd","./OppoNativeAdItemModel":"OppoNativeAdItemModel"}],OppoRewardAd:[function(t,e,o){"use strict";cc._RF.push(e,"4c11boTnl9MSJdkFQqRvbT5","OppoRewardAd");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var i=t("../SDKConfig"),r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.loadCount=0,e}return n(e,t),e.prototype.onError=function(t){console.log("QQVideoAd error ",t),this.setState(i.SDKState.loadFail),this.callback&&this.callback(i.ResultState.NO)},e.prototype.show=function(){this.instance.show()},e.prototype.onLoad=function(){console.log("\u89c6\u9891\u52a0\u8f7d\u6210\u529f ",this.loadCount),this.setState(i.SDKState.loadSucess),this.show(),this.loadCount++},e.prototype.onClose=function(t){this.setState(i.SDKState.close),t&&t.isEnded||void 0===t?(console.log("\u89c6\u9891\u7ed3\u675f\u5173\u95ed "),this.callback&&this.callback(i.ResultState.YES)):(console.log("\u89c6\u9891\u4e2d\u9014\u5173\u95ed "),this.callback&&this.callback(i.ResultState.NO))},e.prototype.create=function(t){this.loadCount=0,this.adUnitID=t,console.log(" \u4e0d\u652f\u6301\u591a\u4f8b"),null==this.instance?(this.instance=qg.createRewardedVideoAd({adUnitId:t}),this.instance.onLoad(this.onLoad.bind(this)),this.instance.onError(this.onError.bind(this)),this.instance.onClose(this.onClose.bind(this)),console.log(" \u521b\u5efa\u6210\u529f")):console.log(" \u4e3b\u52a8\u52a0\u8f7d"),this.instance.load()},e.prototype.open=function(t,e){this.callback=e,this.setState(i.SDKState.loading),this.create(t)},e}(t("../base/BaseAd").default);o.default=r,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../base/BaseAd":"BaseAd"}],OppoScreenshot:[function(t,e,o){"use strict";cc._RF.push(e,"013b6VSdcxI/a2QHln1RZlK","OppoScreenshot");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var i=t("../base/BaseScreenshot"),r=t("../../engine/TextureRenderUtils"),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.showImage=function(t){this.channel.previewImage(t)},e.prototype.createImage=function(){console.log(" createImage ");var t=this.getCanvas(),e=r.default.instance().getTexture(),o=e.width,n=e.height,i=new Uint8Array(o*n*4);return e.readPixels(i),{data:i,width:t.width,height:t.height,fileType:"png",reverse:!0}},e.prototype.saveFile=function(t,e){var o=this;if(qg.saveImageTempSync){var n=qg.saveImageTempSync(t);console.log("_tempFilePath ",n),qg.saveImageToPhotosAlbum({filePath:n,success:function(){console.log("save success"+n),e&&o.showImage(n)},fail:function(t,e){console.log("handling fail, code = "+e)}})}},e}(i.default);o.default=a,cc._RF.pop()},{"../../engine/TextureRenderUtils":"TextureRenderUtils","../base/BaseScreenshot":"BaseScreenshot"}],OppoSubPackage:[function(t,e,o){"use strict";cc._RF.push(e,"01af5Bb3JpOyKWXhClcNWpc","OppoSubPackage");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var i=t("../base/BaseSubPackage"),r=t("../SDKConfig"),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.loadSingle=function(t,e){qg.loadSubpackage({name:t,success:function(t){e(r.ResultState.YES,null)},fail:function(t){e(r.ResultState.NO,null)}}).onProgressUpdate(function(t){e(r.ResultState.PROGRESS,t.progress)})},e}(i.default);o.default=a,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../base/BaseSubPackage":"BaseSubPackage"}],PageBtn:[function(t,e,o){"use strict";cc._RF.push(e,"f32582UEmVDebZx6RQWzQUt","PageBtn");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.NewClass=void 0;var r=t("./base/BaseComponent"),a=t("./GameLogic"),s=t("./base/Utils"),c=t("./base/MusicManager"),p=t("./sdk/sdk/SDKManager"),u=cc._decorator,l=u.ccclass,h=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.normalSpriteFrame=null,e.currentSpriteFrame=null,e.lockSpriteFrame=null,e._chooseScript=null,e._diffId=1,e._mapId=1,e._star=null,e._flg=0,e}return n(e,t),e.prototype.onLoad=function(){this._initVariable(),this._initUI(),this._initEvent()},e.prototype.onDestroy=function(){this._destroyEvent()},e.prototype._initVariable=function(){},e.prototype._initUI=function(){},e.prototype._initEvent=function(){},e.prototype._destroyEvent=function(){},e.prototype.setChooseScript=function(t){this._chooseScript=t},e.prototype.onBtnClick=function(){(cc.log("on onLevelBtn ",this._diffId,this._mapId),c.MusicManager.playEffect("btn"),this._star>=0)?a.GameLogic.getEnergy()>0?(yyp.eventCenter.emit("game-start",{diffId:this._diffId,mapId:this._mapId,special:this._flg}),this._chooseScript.node.destroy()):s.Utils.addNotice("\u80fd\u91cf\u4e0d\u8db3,\u4f11\u606f\u4e00\u4e0b\u5427"):(p.default.hasShare(),a.GameLogic.saveLvStar(this._diffId,this._mapId,0),yyp.eventCenter.emit("game-start",{diffId:this._diffId,mapId:this._mapId,special:1}),this._chooseScript.node.destroy())},e.prototype.setLevel=function(t,e){this._diffId=t,this._mapId=e},e.prototype.setStar=function(t,e){this._star=t;var o=cc.find("lb",this.node),n=cc.find("sprStar1",this.node),i=cc.find("sprStar2",this.node),r=cc.find("sprStar3",this.node);this._fire._share.stopAllActions(),this._fire._share.active=!1,this.node.getComponent(cc.Sprite).spriteFrame=this.normalSpriteFrame,o.active=!0,o.getComponent(cc.Label).string=""+this._mapId,3==t?(n.active=!0,i.active=!0,r.active=!0,i.y=46):2==t?(n.active=!0,i.active=!0,r.active=!1,i.y=42):1==t?(n.active=!0,i.active=!1,r.active=!1):0==t?(n.active=!1,i.active=!1,r.active=!1,e.diff==this._diffId&&e.map==this._mapId&&(this.node.getComponent(cc.Sprite).spriteFrame=this.currentSpriteFrame)):(n.active=!1,i.active=!1,r.active=!1,this._fire._share.active=!0,this._fire._share.opacity=0,this._fire._share.runAction(cc.sequence(cc.delayTime(2),cc.fadeIn(.2),cc.delayTime(3),cc.fadeOut(.2)).repeatForever()),o.active=!1,this.node.getComponent(cc.Sprite).spriteFrame=this.lockSpriteFrame),(this._diffId>e.diff||this._diffId==e.diff&&this._mapId>e.map)&&(this._flg=1)},i([h(cc.SpriteFrame)],e.prototype,"normalSpriteFrame",void 0),i([h(cc.SpriteFrame)],e.prototype,"currentSpriteFrame",void 0),i([h(cc.SpriteFrame)],e.prototype,"lockSpriteFrame",void 0),e=i([l],e)}(r.BaseComponent);o.NewClass=f,cc._RF.pop()},{"./GameLogic":"GameLogic","./base/BaseComponent":"BaseComponent","./base/MusicManager":"MusicManager","./base/Utils":"Utils","./sdk/sdk/SDKManager":"SDKManager"}],PaintMap:[function(t,e,o){"use strict";cc._RF.push(e,"81544PnBN9E46dgpVbrri89","PaintMap");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.PaintMap=void 0;var r=t("./base/BaseComponent"),a=t("./GameLogic"),s=cc._decorator,c=s.ccclass,p=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cubePrefab=null,e.cubes={},e.isLeftDown=!1,e.isRightDown=!1,e.editStatus=0,e.paintColor=1,e.groupCount=2,e.mapData={},e.isChanged=!1,e}return n(e,t),e.prototype.setEditStatus=function(t){this.editStatus=t,1==this.editStatus&&(this.isChanged=!1)},e.prototype.onLoad=function(){this.initTripleMap(),this.resetMap(),this.initTouchEvent(),this.setGroupCount(this.groupCount),this.setEditNodeVisible(!1)},e.prototype.initTouchEvent=function(){this._fire._lyMap.on(cc.Node.EventType.MOUSE_DOWN,this.onTouchBegan,this),this._fire._lyMap.on(cc.Node.EventType.MOUSE_MOVE,this.onTouchMove,this),this._fire._lyMap.on(cc.Node.EventType.MOUSE_UP,this.onTouchEnded,this)},e.prototype.updateMap=function(t,e,o){if(1==this.editStatus){if("left"==t)this.cubes["cube_"+e+"_"+o].script.setSelect();else if("right"==t){this.cubes["cube_"+e+"_"+o].script.setUnselect()}}else if(2==this.editStatus)if("left"==t)this.setColorIdWithRowCol(e,o,this.paintColor);else if("right"==t){var n=this.getColorIdWithRowCol(e,o);if(0!=n){this.paintColor=n;var i=this;yyp.bundle.load("texture/ui/tetris_"+this.PrefixZero(n,2),cc.SpriteFrame,function(t,e){i._fire._sprPaintTip.$Sprite.spriteFrame=e})}}},e.prototype.PrefixZero=function(t,e){return(Array(e).join("0")+t).slice(-e)},e.prototype.onTouchBegan=function(t){var e=t.getButton();e===cc.Event.EventMouse.BUTTON_LEFT&&(this.isLeftDown=!0),e===cc.Event.EventMouse.BUTTON_RIGHT&&(this.isRightDown=!0);var o=t.getLocation(),n=this.testPoint(o);return n?(this.isLeftDown&&this.updateMap("left",n.script.row,n.script.col),this.isRightDown&&this.updateMap("right",n.script.row,n.script.col)):(this.isLeftDown=!1,this.isRightDown=!1),!0},e.prototype.onTouchMove=function(t){var e=t.getLocation(),o=this.testPoint(e);o&&(this.isLeftDown&&this.updateMap("left",o.script.row,o.script.col),this.isRightDown&&this.updateMap("right",o.script.row,o.script.col))},e.prototype.onTouchEnded=function(t){(this.isLeftDown=!1,this.isRightDown=!1,1==this.editStatus||2==this.editStatus)&&(this.judgeChanged()&&(this.isChanged=!0,this.mapData=this.getMapData(),yyp.eventCenter.emit("paintmap-changed",{data:this.mapData})))},e.prototype.initTripleMap=function(){this._fire._lyMap.scale=.8;for(var t=0;t<a.GameLogic.mapRow;t++)for(var e=0;e<a.GameLogic.mapCol;e++){var o=cc.instantiate(this.cubePrefab);this._fire._lyMap.addChild(o),o.script.initCube(t,e,0),this.cubes["cube_"+t+"_"+e]=o}},e.prototype.resetMap=function(){var t=(a.GameLogic.mapCol/2+1)*a.GameLogic.cubeWidth,e=a.GameLogic.mapRow*a.GameLogic.cubeHeight;this._fire._lyMap.setContentSize(t,e),this._fire._lyMap.x=-t*this._fire._lyMap.scale/2},e.prototype.testPoint=function(t){if(this.isLeftDown||this.isRightDown)for(var e=0;e<a.GameLogic.mapRow;e++)for(var o=0;o<a.GameLogic.mapCol;o++){var n=this.cubes["cube_"+e+"_"+o];if(n.script.polygonHitTest(t))return n}return null},e.prototype.judgeChanged=function(){if(void 0==this.mapData.map)return!0;for(var t=0;t<a.GameLogic.mapRow;t++)for(var e=0;e<a.GameLogic.mapCol;e++){if(this.cubes["cube_"+t+"_"+e].script.getColorId()!=this.mapData.map[t][e])return!0}return!1},e.prototype.reloadMap=function(t){if(t){this.mapData=t;for(var e=t.mapCount.row,o=t.mapCount.col,n=t.map,i=0;i<a.GameLogic.mapRow;i++)for(var r=0;r<a.GameLogic.mapCol;r++){var s=this.cubes["cube_"+i+"_"+r];if(i<=e&&r<=o){var c=n[i][r];c>0?s.script.paint(c):s.script.setUnselect()}else s.script.setUnselect()}}else for(i=0;i<a.GameLogic.mapRow;i++)for(r=0;r<a.GameLogic.mapCol;r++){(s=this.cubes["cube_"+i+"_"+r]).script.setUnselect()}},e.prototype.getMapData=function(){var t={};t.mapCount={row:a.GameLogic.mapRow,col:a.GameLogic.mapCol},t.map=[];for(var e=0;e<a.GameLogic.mapRow;e++){for(var o=[],n=0;n<a.GameLogic.mapCol;n++){var i=this.cubes["cube_"+e+"_"+n];o.push(i.script.getColorId())}t.map.push(o)}return t},e.prototype.getSelCubes=function(){for(var t=[],e=0;e<a.GameLogic.mapRow;e++)for(var o=0;o<a.GameLogic.mapCol;o++){var n=this.cubes["cube_"+e+"_"+o];n.script.isSelect()?t.push(n):n.script.doUnactive()}return t=this.randomNeighbors(t)},e.prototype.resetAllCubes=function(){for(var t=0;t<a.GameLogic.mapRow;t++)for(var e=0;e<a.GameLogic.mapCol;e++){this.cubes["cube_"+t+"_"+e].script.doActive()}},e.prototype.clearAllCubes=function(){for(var t=0;t<a.GameLogic.mapRow;t++)for(var e=0;e<a.GameLogic.mapCol;e++){var o=this.cubes["cube_"+t+"_"+e];o.script.doActive(),o.script.setUnselect()}},e.prototype.randomNeighbors=function(t){for(var e=t.length-1;e>=0;e--){var o=Math.floor(Math.random()*(e+1)),n=t[o];t[o]=t[e],t[e]=n}return t},e.prototype.getColorIdWithRowCol=function(t,e){var o=this.cubes["cube_"+t+"_"+e];return o?o.script.getColorId():0},e.prototype.setColorIdWithRowCol=function(t,e,o){var n=this.cubes["cube_"+t+"_"+e];return n&&n.active?n.script.paint(o):0},e.prototype.parseMap=function(t){var e=this.getSelCubes();if(1==t||this.isChanged){this.isChanged=!1;var o=e.length,n=this.getAllowSize(o,this.groupCount),i=this.getParseCubeList(e,n);i=this.optimizeCubeList(i),this.paintCubes(i),this.mapData=this.getMapData(),yyp.eventCenter.emit("paintmap-changed",{data:this.mapData})}},e.prototype.getAllowSize=function(t,e){var o=[];if(t%e==0){(n=t/e)-1>0&&o.push(n-1),o.push(n),o.push(n+1)}else{var n=t/e;o.push(Math.floor(n)),o.push(Math.ceil(n))}return o},e.prototype.optimizeCubeList=function(t){for(var e=[];t.length>this.groupCount;)for(var o=this.getMinSizeIndex(t),n=t.splice(o,1)[0],i=0;i<n.length;i++)e.push(n[i]);for(;e.length>0;)this.insertRedundantCube(t,e);return t},e.prototype.insertRedundantCube=function(t,e){for(var o=0;o<e.length;o++)for(var n=e[o],i=0;i<t.length;i++)for(var r=t[i],a=0;a<r.length;a++){var s=r[a];if(this.isNeighbor(s,n))return n.script.paint(s.script.getColorId()),r.push(n),void e.splice(o,1)[0]}},e.prototype.getMinSizeIndex=function(t){for(var e=0,o=0;o<t.length;o++){t[o].length<=t[e].length&&(e=o)}return e},e.prototype.getParseCubeList=function(t,e){for(var o=[];t.length>0;){var n=[],i=t.shift();n.push(i),this.doNeighbor(i,t,n,e),o.push(n)}return o},e.prototype.doNeighbor=function(t,e,o,n){if(!(o.length>=n[0])){var i=this.getNeighbors(t,e);i=this.randomNeighbors(i);for(var r=0;r<i.length;r++){var a=i[r];this.removeCubeInList(a,e),o.push(a)}for(r=0;r<i.length;r++){a=i[r];this.doNeighbor(a,e,o,n)}}},e.prototype.removeCubeInList=function(t,e){for(var o=0;o<e.length;o++){var n=e[o];if(n.script.row==t.script.row&&n.script.col==t.script.col){e.splice(o,1);break}}},e.prototype.isNeighbor=function(t,e){if(t.script.row==e.script.row&&1==Math.abs(t.script.col-e.script.col))return!0;var o=t.script.row%2==1,n=t.script.col%2==1;if(o){if(n){if(t.script.row+1==e.script.row&&t.script.col-1==e.script.col)return!0}else if(t.script.row-1==e.script.row&&t.script.col-1==e.script.col)return!0}else if(n){if(t.script.row+1==e.script.row&&t.script.col+1==e.script.col)return!0}else if(t.script.row-1==e.script.row&&t.script.col+1==e.script.col)return!0;return!1},e.prototype.getNeighbors=function(t,e){var o=[],n=t.script.row,i=t.script.col,r=n%2==1,a=i%2==1,s=this.getCubeInList(e,n,i-1),c=this.getCubeInList(e,n,i+1),p=null;return p=r?a?this.getCubeInList(e,n+1,i-1):this.getCubeInList(e,n-1,i-1):a?this.getCubeInList(e,n+1,i+1):this.getCubeInList(e,n-1,i+1),s&&o.push(s),c&&o.push(c),p&&o.push(p),o},e.prototype.getCubeInList=function(t,e,o){for(var n=0;n<t.length;n++){var i=t[n];if(i.script.row==e&&i.script.col==o)return i}return null},e.prototype.paintCubes=function(t){for(var e=0;e<t.length;e++)for(var o=t[e],n=0;n<o.length;n++){o[n].script.paint(e+1)}},e.prototype.onAddClick=function(t,e){this.setGroupCount(this.groupCount+1)},e.prototype.onReduceClick=function(t,e){this.setGroupCount(this.groupCount-1)},e.prototype.setGroupCount=function(t){this.groupCount=t,this._fire._lbParseCount.$Label.string=""+this.groupCount},e.prototype.onParseClick=function(t,e){this.parseMap(!0)},e.prototype.setEditNodeVisible=function(t){this._fire._nEdit.active=t},i([p(cc.Prefab)],e.prototype,"cubePrefab",void 0),e=i([c],e)}(r.BaseComponent);o.PaintMap=u,cc._RF.pop()},{"./GameLogic":"GameLogic","./base/BaseComponent":"BaseComponent"}],QQAppBoxAd:[function(t,e,o){"use strict";cc._RF.push(e,"fc242NhTUFHnriapzBONtNd","QQAppBoxAd");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.open=function(t){this.create(t)},e.prototype.create=function(t){this.adUnitID=t,this.instance=qq.createAppBox({adUnitId:t}),this.load()},e.prototype.load=function(){this.instance&&this.instance.load()},e.prototype.show=function(){this.instance&&this.instance.show()},e.prototype.destroy=function(){this.instance&&this.instance.destroy()},e}(t("../base/BaseAd").default);o.default=i,cc._RF.pop()},{"../base/BaseAd":"BaseAd"}],QQBanner:[function(t,e,o){"use strict";cc._RF.push(e,"9988bshETdKoo+LQ7ZVE2/z","QQBanner");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var i=t("../base/BaseAd"),r=t("../SDKConfig"),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.open=function(t){this.logicState=r.SDKState.open,this.adUnitID!=t?(this.destroy(),this.create(t)):(this.showCount++,this.showCount>3?(this.showCount=0,this.destroy(),this.create(t)):this.show())},e.prototype.close=function(){this.logicState=r.SDKState.close,this.instance&&this.hide()},e.prototype.onError=function(t){console.log("banner onError",t),this.setState(r.SDKState.loadFail)},e.prototype.onLoad=function(){console.log("banner onLoad"),this.setState(r.SDKState.loadSucess),this.logicState==r.SDKState.open?this.show():this.hide()},e.prototype.onResize=function(t){console.log("banner onResize",t)},e.prototype.create=function(t){var e=qq.getSystemInfoSync();this.adUnitID=t;this.instance=qq.createBannerAd({adUnitId:this.adUnitID,style:{left:(e.windowWidth-350)/2,top:e.windowHeight-130,width:350}}),this.instance.onLoad(this.onLoad.bind(this)),this.instance.onError(this.onError.bind(this)),this.instance.onResize(this.onResize.bind(this))},e.prototype.show=function(){this.state=r.SDKState.open,this.instance&&this.instance.show()},e.prototype.hide=function(){this.state=r.SDKState.close,this.instance&&this.instance.hide()},e.prototype.destroy=function(){this.instance&&(this.instance.offLoad(this.onLoad.bind(this)),this.instance.offError(this.onError.bind(this)),this.instance.offResize(this.onResize.bind(this)),this.instance.destroy())},e}(i.default);o.default=a,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../base/BaseAd":"BaseAd"}],QQChannel:[function(t,e,o){"use strict";cc._RF.push(e,"3c251EiNWtDyJSDMJ4+5EbR","QQChannel");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var i=t("../base/BaseChannel"),r=t("./QQVideoAd"),a=t("./QQBanner"),s=t("./QQShare"),c=t("./QQInterstitialAd"),p=t("./QQAppBoxAd"),u=t("./QQScreenshot"),l=t("./QQSubPackage"),h=function(t){function e(e){var o=t.call(this,e)||this;return qq.onShow(function(){}),qq.onHide(function(){}),o.share=new s.default(o),qq.createInterstitialAd&&(o.insertAd=new c.default(o)),qq.createRewardedVideoAd&&(o.rewardAd=new r.default(o)),qq.createBannerAd&&(o.bannerAd=new a.default(o)),qq.createAppBox&&(o.appBoxAd=new p.default(o)),o.screenshot=new u.default(o),o.subPackage=new l.default(o),o}return n(e,t),e.prototype.showToast=function(t){qq.showToast({title:t})},e.prototype.vibrateShort=function(){qq.vibrateShort()},e.prototype.postMessage=function(t){},e.prototype.previewImage=function(t){qq.previewImage({current:t,urls:[t]})},e.prototype.navigateToMiniProgram=function(t){qq.navigateToMiniProgram({appId:t,success:function(){}})},e}(i.default);o.default=h,cc._RF.pop()},{"../base/BaseChannel":"BaseChannel","./QQAppBoxAd":"QQAppBoxAd","./QQBanner":"QQBanner","./QQInterstitialAd":"QQInterstitialAd","./QQScreenshot":"QQScreenshot","./QQShare":"QQShare","./QQSubPackage":"QQSubPackage","./QQVideoAd":"QQVideoAd"}],QQInterstitialAd:[function(t,e,o){"use strict";cc._RF.push(e,"b36f9ugg7NBdYQeAvSvVijv","QQInterstitialAd");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var i=t("../base/BaseAd"),r=t("../SDKConfig"),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.open=function(t){console.log("BaseInterstitialAd showAd this.state ",this.state),this.state=r.SDKState.loading,this.create(t),this.load()},e.prototype.onLoad=function(){console.log(" \u63d2\u5c4f\u5e7f\u544a\u52a0\u8f7d\u6210\u529f"),this.setState(r.SDKState.loadSucess),this.show()},e.prototype.onError=function(t){console.log(" \u63d2\u5c4f\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25 ",t),this.setState(r.SDKState.loadFail)},e.prototype.onClose=function(){console.log(" \u63d2\u5c4f\u5e7f\u544a\u5173\u95ed")},e.prototype.load=function(){this.instance&&this.instance.load()},e.prototype.show=function(){this.instance&&this.instance.show()},e.prototype.create=function(t){this.adUnitID=t,this.instance||(this.instance=qq.createInterstitialAd({adUnitId:t}),this.instance.onLoad(this.onLoad.bind(this)),this.instance.onError(this.onError.bind(this)),this.instance.onClose(this.onClose.bind(this)))},e}(i.default);o.default=a,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../base/BaseAd":"BaseAd"}],QQScreenshot:[function(t,e,o){"use strict";cc._RF.push(e,"f763dJcqDBNr43LUbrMGPJO","QQScreenshot");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.showImage=function(t){this.channel.previewImage(t)},e.prototype.createImage=function(){console.log(" createImage ");var t=this.getCanvas();return{x:0,y:0,width:t.width,height:t.height,destWidth:t.width,destHeight:t.height,fileType:"png",quality:1}},e.prototype.saveFile=function(t,e){var o=this;console.log(" saveFile data ",t,e);var n=this.getCanvas();if(n.toTempFilePathSync){var i=n.toTempFilePathSync(t);console.log(" _tempFilePath ",i),qq.saveImageToPhotosAlbum({filePath:i,success:function(t){console.log("Capture file success!"+i,t),e&&o.showImage(i)}})}},e}(t("../base/BaseScreenshot").default);o.default=i,cc._RF.pop()},{"../base/BaseScreenshot":"BaseScreenshot"}],QQShare:[function(t,e,o){"use strict";cc._RF.push(e,"e7bc8FdkVdKwabSiRAa80Vq","QQShare");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var i=t("../base/BaseShare"),r=t("../SDKConfig"),a=function(t){function e(e){var o=t.call(this,e)||this;return o.time=0,wx.showShareMenu({withShareTicket:!0}),wx.updateShareMenu({withShareTicket:!0}),wx.onShow(function(){o.backGame()}),wx.onShareAppMessage(function(){return o.getData(0)}),o}return n(e,t),e.prototype.share=function(t,e,o){this.callback=e,wx.shareAppMessage(this.getData(t)),this.state=r.SDKState.open,this.time=Date.now()},e.prototype.getData=function(t){return{title:this.channel.getParam(t,r.ADName.shareTitle),imageUrl:this.channel.getParam(t,r.ADName.shareImage),imageUrlId:""}},e.prototype.backGame=function(){this.state==r.SDKState.open&&(this.state=r.SDKState.close,this.callback&&(Date.now()-this.time>=3e3?this.callback(r.ResultState.YES):this.callback(r.ResultState.NO),this.callback=null))},e.prototype.getShareInfo=function(t,e){t&&wx.getShareInfo({shareTicket:t,success:function(t){e(t)},fail:function(){}})},e}(i.BaseShare);o.default=a,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../base/BaseShare":"BaseShare"}],QQSubPackage:[function(t,e,o){"use strict";cc._RF.push(e,"5a17c1/Jl1GOKao56H7y3HV","QQSubPackage");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var i=t("../base/BaseSubPackage"),r=t("../SDKConfig"),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.loadSingle=function(t,e){wx.loadSubpackage({name:t,success:function(t){e(r.ResultState.YES,null)},fail:function(t){e(r.ResultState.NO,null)}}).onProgressUpdate(function(t){e(r.ResultState.PROGRESS,t.progress)})},e}(i.default);o.default=a,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../base/BaseSubPackage":"BaseSubPackage"}],QQVideoAd:[function(t,e,o){"use strict";cc._RF.push(e,"d9ca6qSnFZEZpx91B6FlWmB","QQVideoAd");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var i=t("../base/BaseAd"),r=t("../SDKConfig"),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.loadCount=0,e}return n(e,t),e.prototype.onError=function(t){console.log("QQVideoAd error ",t),this.setState(r.SDKState.loadFail),r.USE_SHARE&&this.channel.hasShare()?this.channel.showShare(0,this.callback):this.callback&&this.callback(r.ResultState.NO)},e.prototype.onLoad=function(){console.log("\u89c6\u9891\u52a0\u8f7d\u6210\u529f ",this.loadCount),0==this.loadCount&&(this.instance.show(),this.setState(r.SDKState.loadSucess)),this.loadCount++},e.prototype.onClose=function(t){this.setState(r.SDKState.close),t&&t.isEnded||void 0===t?(console.log("\u89c6\u9891\u7ed3\u675f\u5173\u95ed "),this.callback&&this.callback(r.ResultState.YES)):(console.log("\u89c6\u9891\u4e2d\u9014\u5173\u95ed "),this.callback&&this.callback(r.ResultState.NO))},e.prototype.create=function(t){this.loadCount=0,this.adUnitID=t,console.log(" \u4e0d\u652f\u6301\u591a\u4f8b"),null==this.instance?(this.instance=qq.createRewardedVideoAd({adUnitId:t}),this.instance.onLoad(this.onLoad.bind(this)),this.instance.onError(this.onError.bind(this)),this.instance.onClose(this.onClose.bind(this))):this.instance.load()},e.prototype.open=function(t,e){console.log(" showReward adID ",t),this.state!=r.SDKState.loading&&(this.callback=e,this.setState(r.SDKState.loading),this.adUnitID!=t?this.create(t):this.show())},e.prototype.show=function(){var t=this;this.instance?this.instance.show().then(function(){t.setState(r.SDKState.open),console.log(" \u6fc0\u52b1\u89c6\u9891\u5c55\u793a\u6210\u529f ")}).catch(function(){console.log(" show  \u6fc0\u52b1\u89c6\u9891 \u64ad\u653e\u5931\u8d25\u91cd\u8bd5"),t.instance.load().then(function(){t.instance.show(),t.setState(r.SDKState.open)}).catch(function(e){console.log(" \u6fc0\u52b1\u89c6\u9891\u91cd\u8bd5\u5931\u8d25 err ",e),t.setState(r.SDKState.loadFail),t.channel.showShare(0,t.callback)})}):this.callback(r.ResultState.NO)},e}(i.default);o.default=a,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../base/BaseAd":"BaseAd"}],RecorderComp:[function(t,e,o){"use strict";cc._RF.push(e,"75ef6shdhBJN6kX1KwEdtco","RecorderComp");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../SDKManager"),a=cc._decorator,s=a.ccclass,c=a.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.isRunning=!1,e}return n(e,t),e.prototype.start=function(){this.node.active=r.default.getChannel().hasRecorder(),this.node.active&&this.node.on(cc.Node.EventType.TOUCH_END,this.onButtonClick,this)},e.prototype.onButtonClick=function(){this.isRunning?(this.isRunning=!1,this.label.string="\u5c4f\u5e55\u5f55\u5236",r.default.getChannel().recorderStop(),r.default.getChannel().showShare(0,function(t){r.default.getChannel().showToast("\u5f55\u9891\u5206\u4eab\u7ed3\u679c\uff1a"+t)},!0)):(r.default.getChannel().recorderStart(),this.label.string="\u5f55\u5c4f\u5206\u4eab",this.isRunning=!0)},i([c(cc.Label)],e.prototype,"label",void 0),e=i([s],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../SDKManager":"SDKManager"}],RewardAdComp:[function(t,e,o){"use strict";cc._RF.push(e,"784e3t3Ae9Ac7G211tFRRaE","RewardAdComp");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../SDKManager"),a=cc._decorator,s=a.ccclass,c=a.property,p=a.requireComponent,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.adSite=0,e.callback=new cc.Component.EventHandler,e}return n(e,t),e.prototype.start=function(){this.node.on(cc.Node.EventType.TOUCH_END,this.onButtonClick,this)},e.prototype.onDestroy=function(){this.node.off(cc.Node.EventType.TOUCH_END,this.onButtonClick,this)},e.prototype.onButtonClick=function(){var t=this;r.default.getChannel().showRewardAd(this.adSite,function(e){t.callback.emit([e])})},i([c],e.prototype,"adSite",void 0),i([c({type:cc.Component.EventHandler,displayName:"\u56de\u8c03\u51fd\u6570"})],e.prototype,"callback",void 0),e=i([s,p(cc.Button)],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../SDKManager":"SDKManager"}],SDKConfig:[function(t,e,o){"use strict";cc._RF.push(e,"20dddpZCmpEm6i/T7Jacd9A","SDKConfig"),Object.defineProperty(o,"__esModule",{value:!0}),o.SDKConfig=o.ChannelID=o.SDKState=o.ResultState=o.USE_SHARE=o.ADName=o.compareVersion=o.random=o.isNull=void 0,o.isNull=function(t){return void 0==t||null==t},o.random=function(t,e){return e?Math.floor(Math.random()*(e-t)+t):Math.floor(Math.random()*t)},o.compareVersion=function(t,e){t=t.split("."),e=e.split(".");for(var o=Math.max(t.length,e.length);t.length<o;)t.push("0");for(;e.length<o;)e.push("0");for(var n=0;n<o;n++){var i=parseInt(t[n]),r=parseInt(e[n]);if(i>r)return 1;if(i<r)return-1}return 0};var n=function(){function t(){}return t.banner="banner",t.reward="reward",t.insert="insert",t.native="native",t.appbox="appbox",t.shareTitle="shareTitle",t.shareImage="shareImage",t.shareImageId="shareImageId",t}();o.ADName=n,o.USE_SHARE=!0,function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.PROGRESS=2]="PROGRESS"}(o.ResultState||(o.ResultState={})),function(t){t[t.close=0]="close",t[t.loading=1]="loading",t[t.loadSucess=2]="loadSucess",t[t.loadFail=3]="loadFail",t[t.open=4]="open"}(o.SDKState||(o.SDKState={})),function(t){t[t.DEV=0]="DEV",t[t.WX=1]="WX",t[t.QQ=2]="QQ",t[t.TT=3]="TT",t[t.OPPO=4]="OPPO",t[t.VIVO=5]="VIVO",t[t.BD=6]="BD"}(o.ChannelID||(o.ChannelID={})),o.SDKConfig=[{},{banner:["adunit-30911f9f1c544641"],reward:["adunit-a57ea0e6ae249c23"],shareTitle:["\u8f7b\u70b9\u6307\u5c16,\u4eab\u53d7\u60a0\u95f2\u65f6\u5149"],shareImage:["https://mmocgame.qpic.cn/wechatgame/Yc0K0gtav8ZyzLkic6JicaujlD2aJSx5DZ83TrNsasE92zUNsuiav8DgEhCJy1SuBpq/0"],shareImageId:["mJ7sLzvQSNGLMocsB1vQUQ=="]},{banner:["3dc6fcfee4628890315d17344b304198"],insert:["eb6a8d5369ad7568ce03dc2941063bd4"],reward:["1cbf2104918dc3fce3528e4e50d5de3f"],appbox:["3c1dbaed966527bb40c4cfda9e9789d1"],shareTitle:["[\u6709\u4eba@\u4f60]\u5feb\u6765\u6311\u6218\u5427"],shareImage:["share4.jpg"]},{banner:["11kgdie55kae611xob"],reward:["3dcflbcao8dh18g6ja"],insert:["9406efbfk8eh2hccel"],shareTitle:["[\u6709\u4eba@\u4f60]\u5feb\u6765\u6311\u6218\u5427"],shareImage:["share4.jpg"]},{banner:["184591"],reward:["184600"],native:["184599","184598","184597"],insert:["184593"]},{banner:["a0d995c8e3e945e89455612b15a2d24c"],reward:["83c0e30bf7b0473c9cbfcf9b6644527c"],insert:["4f9d9fff72b64f868e48a3be2674f344"],native:["8e95b90220c04fa5934cd4a079ad8f53"]},{banner:[""],reward:["7052091"]}],cc._RF.pop()},{}],SDKManager:[function(t,e,o){"use strict";cc._RF.push(e,"0678cKubnZM2r4DRIrHZco2","SDKManager"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./SDKConfig"),i=t("./wx/WXChannel"),r=t("./oppo/OppoChannel"),a=t("./qq/QQChannel"),s=t("./vivo/VivoChannel"),c=t("./tt/TTChannel"),p=t("./bd/BDChannel"),u=t("./dev/DevChannel"),l=function(){function t(){this.channel=null}return t.getChannel=function(){return this.channel},t.init=function(t){var e=t;switch(e){case n.ChannelID.WX:this.channel=new i.default(e);break;case n.ChannelID.BD:this.channel=new p.default(e);break;case n.ChannelID.TT:this.channel=new c.default(e);break;case n.ChannelID.VIVO:this.channel=new s.default(e);break;case n.ChannelID.OPPO:this.channel=new r.default(e);break;case n.ChannelID.QQ:this.channel=new a.default(e);break;default:this.channel=new u.default(e)}},t.hasShare=function(){return this.channel.hasShare()},t.showShare=function(t,e,o){return this.channel.showShare(t,e,o)},t}();o.default=l,cc._RF.pop()},{"./SDKConfig":"SDKConfig","./bd/BDChannel":"BDChannel","./dev/DevChannel":"DevChannel","./oppo/OppoChannel":"OppoChannel","./qq/QQChannel":"QQChannel","./tt/TTChannel":"TTChannel","./vivo/VivoChannel":"VivoChannel","./wx/WXChannel":"WXChannel"}],ScreenshotComponent:[function(t,e,o){"use strict";cc._RF.push(e,"b35fdW6yMBOFL7ZdtWNCbkx","ScreenshotComponent");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../SDKManager"),a=cc._decorator,s=a.ccclass,c=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.start=function(){this.node.active=r.default.getChannel().hasScreenshot(),this.node.active&&this.node.on(cc.Node.EventType.TOUCH_END,this.onButtonClick,this)},e.prototype.onButtonClick=function(){r.default.getChannel().showScreenshot()},e=i([s],e)}(cc.Component));o.default=c,cc._RF.pop()},{"../SDKManager":"SDKManager"}],ScreenshotComp:[function(t,e,o){"use strict";cc._RF.push(e,"fbdda0+loFGKJzy5aXcog6Y","ScreenshotComp");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./TextureRenderUtils"),a=cc._decorator,s=a.ccclass,c=a.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.camera=null,e.renderNode=null,e}return n(e,t),e.prototype.start=function(){r.default.instance().init(this.camera,this.renderNode)},i([c(cc.Camera)],e.prototype,"camera",void 0),i([c(cc.Node)],e.prototype,"renderNode",void 0),e=i([s],e)}(cc.Component);o.default=p,cc._RF.pop()},{"./TextureRenderUtils":"TextureRenderUtils"}],Setting:[function(t,e,o){"use strict";cc._RF.push(e,"2ef4aRcwQNB0KLHaqo5KB73","Setting");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.Setting=void 0;var r=t("./base/Dialogs"),a=t("./GameLogic"),s=t("./base/MusicManager"),c=t("./base/Utils"),p=t("./sdk/sdk/SDKManager"),u=cc._decorator,l=u.ccclass,h=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.norSpriteFrame=null,e.disSpriteFrame=null,e.musicVolume=1,e.effectVolume=1,e}return n(e,t),e.prototype.onLoad=function(){this.musicVolume=a.GameLogic.getMusicVolume(),this.effectVolume=a.GameLogic.getEffectVolume(),this.refreshMusic(),this.refreshEffect()},e.prototype.init=function(t){0==t?this._fire._btnReturn.active=!1:this._fire._btnShare.active=!1},e.prototype.onCloseClick=function(t,e){s.MusicManager.playEffect("btn"),yyp.eventCenter.emit("hide-setting",{}),this.close()},e.prototype.onShareClick=function(t,e){s.MusicManager.playEffect("btn"),cc.log("onShareClick")},e.prototype.onReturnClick=function(t,e){s.MusicManager.playEffect("btn"),cc.log("onReturnClick"),yyp.eventCenter.emit("return-main",{}),this.node.destroy()},e.prototype.onMusicClick=function(t,e){s.MusicManager.playEffect("btn"),1==this.musicVolume?this.musicVolume=0:this.musicVolume=1,this.refreshMusic()},e.prototype.onEffectClick=function(t,e){s.MusicManager.playEffect("btn"),1==this.effectVolume?this.effectVolume=0:this.effectVolume=1,this.refreshEffect()},e.prototype.refreshMusic=function(){1==this.musicVolume?(this._fire._sprMusicOn.active=!0,this._fire._sprMusicOff.active=!1,this._fire._sprMusicOnWord.active=!0,this._fire._sprMusicOffWord.active=!1,this._fire._btnMusic.$Sprite.spriteFrame=this.norSpriteFrame):(this._fire._sprMusicOn.active=!1,this._fire._sprMusicOff.active=!0,this._fire._sprMusicOnWord.active=!1,this._fire._sprMusicOffWord.active=!0,this._fire._btnMusic.$Sprite.spriteFrame=this.disSpriteFrame),a.GameLogic.setMusicVolume(this.musicVolume)},e.prototype.refreshEffect=function(){1==this.effectVolume?(this._fire._sprEffectOn.active=!0,this._fire._sprEffectOff.active=!1,this._fire._sprEffectOnWord.active=!0,this._fire._sprEffectOffWord.active=!1,this._fire._btnEffect.$Sprite.spriteFrame=this.norSpriteFrame):(this._fire._sprEffectOn.active=!1,this._fire._sprEffectOff.active=!0,this._fire._sprEffectOnWord.active=!1,this._fire._sprEffectOffWord.active=!0,this._fire._btnEffect.$Sprite.spriteFrame=this.disSpriteFrame),a.GameLogic.setEffectVolume(this.effectVolume)},e.prototype.onShareResult=function(t){p.default.getChannel().showToast("\u5206\u4eab\uff1a"+t),yyp.eventCenter.emit("add-coin",{count:50,position:c.Utils.getWorldPosition(this._fire._btnShare),p:"\u8bbe\u7f6e\u5206\u4eab"})},i([h(cc.SpriteFrame)],e.prototype,"norSpriteFrame",void 0),i([h(cc.SpriteFrame)],e.prototype,"disSpriteFrame",void 0),e=i([l],e)}(r.Dialogs);o.Setting=f,cc._RF.pop()},{"./GameLogic":"GameLogic","./base/Dialogs":"Dialogs","./base/MusicManager":"MusicManager","./base/Utils":"Utils","./sdk/sdk/SDKManager":"SDKManager"}],ShareComp:[function(t,e,o){"use strict";cc._RF.push(e,"f9961wS8edMJJ/nGD6ISrSG","ShareComp");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../SDKManager"),a=cc._decorator,s=a.ccclass,c=a.property,p=a.requireComponent,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.adSite=0,e.callback=new cc.Component.EventHandler,e}return n(e,t),e.prototype.start=function(){var t=r.default.hasShare();t?this.node.on(cc.Node.EventType.TOUCH_END,this.onButtonClick,this):this.node.active=t},e.prototype.onButtonClick=function(){var t=this;r.default.getChannel().showShare(this.adSite,function(e){t.callback.emit([e])})},i([c],e.prototype,"adSite",void 0),i([c({type:cc.Component.EventHandler,displayName:"\u56de\u8c03\u51fd\u6570"})],e.prototype,"callback",void 0),e=i([s,p(cc.Button)],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../SDKManager":"SDKManager"}],TTBanner:[function(t,e,o){"use strict";cc._RF.push(e,"e8f44Sd/iVPoJbM0GnJtUWf","TTBanner");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var i=t("../base/BaseAd"),r=t("../SDKConfig"),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.open=function(t){this.logicState=r.SDKState.open,this.adUnitID!=t?(this.destroy(),this.create(t)):(this.showCount++,this.showCount>3?(this.showCount=0,this.destroy(),this.create(t)):this.show())},e.prototype.close=function(){this.logicState=r.SDKState.close,this.instance&&this.hide()},e.prototype.onResize=function(t){var e=tt.getSystemInfoSync();console.log(t.width,t.height),0!=t.width&&0!=t.height&&(this.instance.style.top=e.windowHeight-t.height,this.instance.style.left=(e.windowWidth-t.width)/2)},e.prototype.create=function(t){this.adUnitID=t;var e=tt.getSystemInfoSync();this.instance=tt.createBannerAd({adUnitId:this.adUnitID,style:{left:(e.windowWidth-200)/2,top:e.windowHeight-112.5,width:200}}),this.instance.onLoad(this.onLoad.bind(this)),this.instance.onError(this.onError.bind(this)),this.instance.onResize(this.onResize.bind(this))},e.prototype.show=function(){this.instance&&(this.state=r.SDKState.open,this.instance.show())},e.prototype.hide=function(){this.instance&&(this.state=r.SDKState.close,this.instance.hide())},e.prototype.onError=function(t){console.log("banner onError",t),this.setState(r.SDKState.loadFail)},e.prototype.onLoad=function(){console.log("banner onLoad"),this.setState(r.SDKState.loadSucess),this.logicState==r.SDKState.open?this.show():this.hide()},e.prototype.destroy=function(){this.instance&&(this.instance.offLoad(this.onLoad.bind(this)),this.instance.offError(this.onError.bind(this)),this.instance.offResize(this.onResize.bind(this)),this.instance.destroy())},e}(i.default);o.default=a,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../base/BaseAd":"BaseAd"}],TTChannel:[function(t,e,o){"use strict";cc._RF.push(e,"b2fc0KseANNTLL9TPU0t7M3","TTChannel");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var i=t("../base/BaseChannel"),r=t("./TTBanner"),a=t("./TTVideoAd"),s=t("./TTRecorder"),c=t("./TTShare"),p=t("./TTLogin"),u=t("./TTInsertAd"),l=t("../SDKConfig"),h=t("./TTScreenshot"),f=function(t){function e(e){var o=t.call(this,e)||this;return tt.createBannerAd&&(o.bannerAd=new r.default(o)),tt.createRewardedVideoAd?o.rewardAd=new a.default(o):console.log(" TTChannel createRewardedVideoAd   is null ",tt),tt.getGameRecorderManager&&(o.recorder=new s.default),tt.shareAppMessage&&(o.share=new c.default(o)),o.loginMgr=new p.default(o),tt.createInterstitialAd&&(o.insertAd=new u.default(o.configData[l.ADName.insert][0])),o.screenshot=new h.default(o),o}return n(e,t),e.prototype.vibrateShort=function(){tt.vibrateShort({success:function(t){},fail:function(t){}})},e.prototype.showToast=function(t){tt.showToast({title:t})},e.prototype.previewImage=function(t){tt.previewImage({current:t,urls:[t]})},e.prototype.checkForUpdate=function(t){if(tt.getUpdateManager){var e=tt.getUpdateManager();console.log("getUpdateManager",e),e.onCheckForUpdate(function(e){console.log("onCheckForUpdate",e.hasUpdate),e.hasUpdate?tt.showToast({title:"\u5373\u5c06\u6709\u66f4\u65b0\u8bf7\u7559\u610f"}):t(l.ResultState.YES)}),e.onUpdateReady(function(){tt.showModal({title:"\u66f4\u65b0\u63d0\u793a",content:"\u65b0\u7248\u672c\u5df2\u7ecf\u51c6\u5907\u597d\uff0c\u662f\u5426\u7acb\u5373\u4f7f\u7528\uff1f",success:function(o){o.confirm?e.applyUpdate():(tt.showToast({icon:"none",title:"\u5c0f\u7a0b\u5e8f\u4e0b\u4e00\u6b21\u300c\u51b7\u542f\u52a8\u300d\u65f6\u4f1a\u4f7f\u7528\u65b0\u7248\u672c"}),t(l.ResultState.YES))}})}),e.onUpdateFailed(function(){tt.showToast({title:"\u66f4\u65b0\u5931\u8d25\uff0c\u4e0b\u6b21\u542f\u52a8\u7ee7\u7eed..."}),t(l.ResultState.YES)})}else t(l.ResultState.YES)},e}(i.default);o.default=f,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../base/BaseChannel":"BaseChannel","./TTBanner":"TTBanner","./TTInsertAd":"TTInsertAd","./TTLogin":"TTLogin","./TTRecorder":"TTRecorder","./TTScreenshot":"TTScreenshot","./TTShare":"TTShare","./TTVideoAd":"TTVideoAd"}],TTInsertAd:[function(t,e,o){"use strict";cc._RF.push(e,"ea50ddZNkZL9LBSpwQ0XXKA","TTInsertAd");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var i=t("../base/BaseAd"),r=t("../SDKConfig"),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.open=function(t){console.log("BaseInterstitialAd showAd this.state ",this.state),this.state=r.SDKState.loading,this.create(t),this.load()},e.prototype.onLoad=function(){console.log(" \u63d2\u5c4f\u5e7f\u544a\u52a0\u8f7d\u6210\u529f"),this.setState(r.SDKState.loadSucess),this.show()},e.prototype.onError=function(t){console.log(" \u63d2\u5c4f\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25 ",t),this.setState(r.SDKState.loadFail)},e.prototype.onClose=function(){console.log(" \u63d2\u5c4f\u5e7f\u544a\u5173\u95ed")},e.prototype.load=function(){},e.prototype.show=function(){},e.prototype.destroy=function(){},e.prototype.create=function(t){this.adUnitID=t;var e="Toutiao"===tt.getSystemInfoSync().appName;if(console.log(" isToutiaio ",e),e){var o=tt.createInterstitialAd({adUnitId:this.adUnitID});o.load().then(function(){console.log("interstitialAd  show "),o.show()}).catch(function(t){console.log(t)})}},e}(i.default);o.default=a,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../base/BaseAd":"BaseAd"}],TTLogin:[function(t,e,o){"use strict";cc._RF.push(e,"eacb8M5MWlGtZxDiM3Ou5vD","TTLogin");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var i=t("../base/BaseLogin"),r=t("../SDKConfig"),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.checkSession=function(t){tt.checkSession({success:function(e){console.log("session\u672a\u8fc7\u671f"),t(r.ResultState.YES)},fail:function(e){console.log("session\u5df2\u8fc7\u671f\uff0c\u9700\u8981\u91cd\u65b0\u767b\u5f55"),t(r.ResultState.NO)}})},e.prototype.login=function(t,e){var o=!1,n=tt.getSystemInfoSync();console.log(" login == info ",n),"Douyin"==n.appName&&(o=!0),tt.login({force:o,success:function(t){console.log("login\u8c03\u7528\u6210\u529f"+t.code+" "+t.anonymousCode),e(r.ResultState.YES,t)},fail:function(t){e(o?r.ResultState.NO:r.ResultState.YES,null)}})},e.prototype.getUserInfo=function(t,e,o){tt.getUserInfo({withCredentials:t,lang:e,success:function(t){console.log("getUserInfo\u8c03\u7528\u6210\u529f"+t.userInfo),o(r.ResultState.YES,t)},fail:function(t){console.log("getUserInfo\u8c03\u7528\u5931\u8d25",t),o(r.ResultState.NO,null)}})},e.prototype.logout=function(){},e}(i.default);o.default=a,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../base/BaseLogin":"BaseLogin"}],TTRecorder:[function(t,e,o){"use strict";cc._RF.push(e,"00fdfW6aSJMnqLc36laqyZ/","TTRecorder");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var i=t("../base/BaseRecorder"),r=t("../SDKConfig"),a=function(t){function e(){var e=t.call(this)||this;return e.isSave=!0,e.recorder=tt.getGameRecorderManager(),e.recorder.onStart(function(t){console.log("\u5f55\u5c4f\u5f00\u59cb",t),e.changeState(r.SDKState.open)}),e.recorder.onStop(function(t){console.log("\u5f55\u5c4f\u7ed3\u675f",t),e.clipVideo(t,[15,0],function(t){e.videoPath=t?t.videoPath:null,e.changeState(r.SDKState.close)})}),e.recorder.onResume(function(){console.log("TTRecorder onResume")}),e.recorder.onPause(function(){console.log("TTRecorder onPuase")}),e.recorder.onError(function(t){console.log("TTRecorder onPuase"),e.videoPath=null}),e}return n(e,t),e.prototype.clipVideo=function(t,e,o){this.recorder.clipVideo({path:t.videoPath,timeRange:e,success:function(t){console.log(t.videoPath),o(t)},fail:function(){o(null)}})},e.prototype.recordClip=function(t){this.recorder.recordClip({timeRange:[30,0],success:function(e){console.log(e.index),t(e)}})},e.prototype.start=function(){this.isOpen()||this.recorder.start({duration:300})},e.prototype.stop=function(t){void 0===t&&(t=!0),this.isClose()||(this.isSave=t,this.recorder.stop())},e.prototype.pause=function(){this.recorder.pause()},e.prototype.resume=function(){this.recorder.resume()},e}(i.default);o.default=a,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../base/BaseRecorder":"BaseRecorder"}],TTScreenshot:[function(t,e,o){"use strict";cc._RF.push(e,"d6371BVzrxJkb03H45lKGZ7","TTScreenshot");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.showImage=function(t){this.channel.previewImage(t)},e.prototype.createImage=function(){console.log(" createImage ");var t=this.getCanvas();return{x:0,y:0,width:t.width,height:t.height,destWidth:t.width,destHeight:t.height,fileType:"png",quality:1}},e.prototype.saveFile=function(t,e){var o=this;console.log(" saveFile data ",t,e);var n=this.getCanvas();if(n.toTempFilePathSync){var i=n.toTempFilePathSync(t);console.log(" _tempFilePath ",i),tt.saveImageToPhotosAlbum({filePath:i,success:function(t){console.log("Capture file success!"+i,t),e&&o.showImage(i)}})}},e}(t("../base/BaseScreenshot").default);o.default=i,cc._RF.pop()},{"../base/BaseScreenshot":"BaseScreenshot"}],TTShare:[function(t,e,o){"use strict";cc._RF.push(e,"b4ffdmsikRMbqO8DCVlIjkE","TTShare");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var i=t("../base/BaseShare"),r=t("../SDKConfig"),a=function(t){function e(e){var o=t.call(this,e)||this;return tt.showShareMenu({withShareTicket:!0}),tt.updateShareMenu({withShareTicket:!0}),wx.onShareAppMessage(function(){return{title:this.channel.getParam(0,r.ADName.shareTitle),imageUrl:this.channel.getParam(0,r.ADName.shareImage),imageUrlId:"",success:function(){console.log("onShareAppMessage \u5206\u4eab\u6210\u529f")},fail:function(t){console.log("\u5206\u4eab\u5931\u8d25",t)}}}),o}return n(e,t),e.prototype.getData=function(t){return{title:this.channel.getParam(t,r.ADName.shareTitle),imageUrl:this.channel.getParam(t,r.ADName.shareImage),imageUrlId:""}},e.prototype.share=function(t,e,o){var n=this,i=this.channel.getParam(t,r.ADName.shareTitle),a=this.channel.getRecorder().getVideoPath();o&&a?tt.shareAppMessage({channel:"video",title:i,extra:{videoPath:a},success:function(){console.log("\u5206\u4eab\u6210\u529f"),e&&e(r.ResultState.YES),n.channel.getRecorder().clear()},fail:function(t){console.log("\u5206\u4eab\u5931\u8d25",t),t.errMsg.indexOf("short")>=0?n.share(0,e,!1):e(r.ResultState.NO)}}):tt.shareAppMessage({desc:i,imageUrl:this.channel.getParam(t,r.ADName.shareImage),title:"\u5206\u4eab\u6709\u793c",imageUrlId:"",success:function(){console.log("\u5206\u4eab\u6210\u529f"),e&&e(r.ResultState.YES)},fail:function(t){console.log("\u5206\u4eab\u5931\u8d25"),e(r.ResultState.NO)}})},e.prototype.getShareInfo=function(t,e){t&&tt.getShareInfo({shareTicket:t,success:function(){},fail:function(){}})},e}(i.BaseShare);o.default=a,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../base/BaseShare":"BaseShare"}],TTVideoAd:[function(t,e,o){"use strict";cc._RF.push(e,"d1671F+5OpMZYt/gSX5kGVV","TTVideoAd");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var i=t("../base/BaseAd"),r=t("../SDKConfig"),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.loadCount=0,e}return n(e,t),e.prototype.onError=function(t){console.log("WXVideoAd error ",t),this.setState(r.SDKState.loadFail),r.USE_SHARE&&this.channel.hasShare()?this.channel.showShare(0,this.callback):this.callback&&this.callback(r.ResultState.NO)},e.prototype.onLoad=function(){console.log("\u89c6\u9891\u52a0\u8f7d\u6210\u529f ",this.loadCount),0==this.loadCount&&(this.instance.show(),this.setState(r.SDKState.loadSucess)),this.loadCount++},e.prototype.onClose=function(t){this.setState(r.SDKState.close),t&&t.isEnded||void 0===t?(console.log("\u89c6\u9891\u7ed3\u675f\u5173\u95ed "),this.callback&&this.callback(r.ResultState.YES)):(console.log("\u89c6\u9891\u4e2d\u9014\u5173\u95ed "),this.callback&&this.callback(r.ResultState.NO))},e.prototype.create=function(t){this.adUnitID=t,this.loadCount=0,console.log(" \u4e0d\u652f\u6301\u591a\u4f8b"),null==this.instance?(this.instance=tt.createRewardedVideoAd({adUnitId:t}),this.instance.onLoad(this.onLoad.bind(this)),this.instance.onError(this.onError.bind(this)),this.instance.onClose(this.onClose.bind(this))):this.instance.load()},e.prototype.open=function(t,e){console.log(" showReward adID ",t),this.state!=r.SDKState.loading&&(this.callback=e,this.setState(r.SDKState.loading),this.adUnitID!=t?(this.adUnitID=t,this.create(t)):this.show())},e.prototype.show=function(){var t=this;this.instance?this.instance.show().then(function(){t.setState(r.SDKState.open),console.log(" \u6fc0\u52b1\u89c6\u9891\u5c55\u793a\u6210\u529f ")}).catch(function(){console.log(" show  \u6fc0\u52b1\u89c6\u9891 \u64ad\u653e\u5931\u8d25\u91cd\u8bd5"),t.instance.load().then(function(){t.instance.show(),t.setState(r.SDKState.open)}).catch(function(e){console.log(" \u6fc0\u52b1\u89c6\u9891\u91cd\u8bd5\u5931\u8d25 err ",e),t.setState(r.SDKState.loadFail),t.channel.showShare(0,t.callback)})}):this.callback(r.ResultState.NO)},e}(i.default);o.default=a,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../base/BaseAd":"BaseAd"}],TextureRenderInterface:[function(t,e,o){"use strict";cc._RF.push(e,"54f29qRaUNKPKh7c5B+LX/i","TextureRenderInterface"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],TextureRenderUtils:[function(t,e,o){"use strict";cc._RF.push(e,"77eb3cQ1EtF74+TCHrZ6dp9","TextureRenderUtils"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){this.camera=null,this.renderNode=null,this._canvas=null}return t.instance=function(){return this.ins||(this.ins=new t),this.ins},t.prototype.getTexture=function(){return this.texture},t.prototype.init=function(t,e){this.camera=t,this.renderNode=e;var o=new cc.RenderTexture,n=cc.game._renderContext;o.initWithSize(cc.visibleRect.width,cc.visibleRect.height,n.STENCIL_INDEX8),this.camera.targetTexture=o,this.texture=o},t.prototype.createCanvas=function(){var t=this.texture.width,e=this.texture.height;this._canvas?this.clearCanvas():(this._canvas=document.createElement("canvas"),this._canvas.width=t,this._canvas.height=e),this.camera.render(this.renderNode),this.setData()},t.prototype.getCanvas=function(){return this._canvas},t.prototype.stopCamera=function(){this.camera.node.active=!1},t.prototype.getSpriteFrame=function(){this.createCanvas();var t=new cc.SpriteFrame;t.setTexture(this.texture);var e=new cc.Node;return e.addComponent(cc.Sprite).spriteFrame=t,e},t.prototype.setData=function(){for(var t=this.texture.width,e=this.texture.height,o=this._canvas.getContext("2d"),n=this.texture.readPixels(),i=4*t,r=0;r<e;r++){for(var a=e-1-r,s=o.createImageData(t,1),c=a*t*4,p=0;p<i;p++)s.data[p]=n[c+p];o.putImageData(s,0,r)}return n},t.prototype.clearCanvas=function(){this._canvas.getContext("2d").clearRect(0,0,this._canvas.width,this._canvas.height)},t}();o.default=n,cc._RF.pop()},{}],Tips:[function(t,e,o){"use strict";cc._RF.push(e,"7022buDYA1IYZYIVfNJUAHB","Tips");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.Tips=void 0;var r=t("./base/BaseComponent"),a=cc._decorator,s=a.ccclass,c=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.onLoad=function(){this._fire._lbTip.$Label.string=""},e.prototype.doTips=function(t){this._fire._lbTip.$Label.string=t,this.node.runAction(cc.sequence(cc.moveBy(.1,0,30),cc.moveBy(.4,0,5),cc.moveBy(.4,0,4),cc.moveBy(.4,0,3),cc.moveBy(.4,0,2),cc.moveBy(.3,0,1),cc.fadeOut(1.5),cc.removeSelf()))},e=i([s],e)}(r.BaseComponent));o.Tips=c,cc._RF.pop()},{"./base/BaseComponent":"BaseComponent"}],Utils:[function(t,e,o){"use strict";cc._RF.push(e,"cd992rerf9K5alt3vTH8x5g","Utils");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.Utils=void 0;var r=cc._decorator,a=r.ccclass,s=(r.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var o;return n(e,t),o=e,e._initBaseSize=function(){if(null==yyp.gameFrameSize&&(yyp.gameFrameSize=cc.view.getVisibleSize(),yyp.gameFactor=yyp.gameFrameSize.width/cc.view.getVisibleSizeInPixel().width,cc.log("Base wx gameFrameSize ",yyp.gameFrameSize),cc.log("Base wx gameFactor ",yyp.gameFactor),yyp.safeTopTop=yyp.gameFrameSize.height/2,yyp.safeTopBottom=yyp.gameFrameSize.height/2-30,cc.sys.platform===cc.sys.WECHAT_GAME)){cc.log("Base wx start ");var t=wx.getMenuButtonBoundingClientRect();cc.log("Base wx top ",t.top),cc.log("Base wx bottom ",t.bottom);var e=wx.getSystemInfoSync();cc.log("Base wx ratio ",e.pixelRatio);var o=t.top*e.pixelRatio*yyp.gameFactor,n=t.bottom*e.pixelRatio*yyp.gameFactor;cc.log("Base after top ",o),cc.log("Base after bottom ",n),yyp.safeTopTop=yyp.gameFrameSize.height/2-o,yyp.safeTopBottom=yyp.gameFrameSize.height/2-n,cc.log("Base safeTopTop top ",yyp.safeTopTop),cc.log("Base safeTopBottom bottom ",yyp.safeTopBottom),cc.log("Base wx end ")}},e.correctionAngle=function(t){return t>180?t-=360:t<-180&&(t+=360),t>180||t<-180?o.correctionAngle(t):t},e.correctionAngle360=function(t){return t<0&&(t+=360),t<0?o.correctionAngle360(t):t},e.vectorsToDegress=function(t){var e=cc.v2(t).signAngle(cc.v2(1,0));return-cc.misc.radiansToDegrees(e)},e.degressToVectors=function(t){var e=cc.misc.degreesToRadians(t);return cc.v2(1,0).rotate(e)},e.vectorsRotateDegress=function(t,e){var n=o.vectorsToDegress(t);return n+=e,o.degressToVectors(n)},e.getPointLineShortestInfo=function(t,e,o){var n={},i=(o.x-e.x)*(t.x-e.x)+(o.y-e.y)*(t.y-e.y);if(i<=0)return n.point=e,n.len=t.sub(n.point).mag(),n;var r=o.sub(e).magSqr();if(i>=r)return n.point=o,n.len=t.sub(n.point).mag(),n;var a=i/r,s=e.x+(o.x-e.x)*a,c=e.y+(o.y-e.y)*a;return n.point=cc.v2(s,c),n.len=t.sub(n.point).mag(),n},e.circlePassPoint=function(t,e,n,i){var r=t.add(o.vectorsRotateDegress(n,90).mul(e)),a=t.add(o.vectorsRotateDegress(n,-90).mul(e)),s=i.sub(r).normalize(),c=a.sub(r).normalize(),p=cc.v2(c).signAngle(s),u=cc.misc.radiansToDegrees(p),l=i.sub(a).normalize(),h=r.sub(a).normalize(),f=cc.v2(l).signAngle(h),d=cc.misc.radiansToDegrees(f);return u>=0&&u<=90&&d>=0&&d<=90},e.radialPassLine=function(t,e,o,n){var i=o.sub(t).normalize().signAngle(e),r=n.sub(t).normalize().signAngle(e),a=cc.misc.radiansToDegrees(i),s=cc.misc.radiansToDegrees(r);return 0==i||0==r||i*r<=0&&Math.abs(s)+Math.abs(a)<=180},e.circlePassLine=function(t,e,n,i,r){return!(!o.circlePassPoint(t,e,n,i)&&!o.circlePassPoint(t,e,n,r))||!!o.radialPassLine(t,n,i,r)},e.circleCirclePassLine=function(t,e,n,i,r){return!(!o.circlePassLine(t,n,e.sub(t).normalize(),i,r)||!o.circlePassLine(e,n,t.sub(e).normalize(),i,r))},e.linePassLine=function(t,e,o,n){return!(!this.radialPassLine(t,e.sub(t).normalize(),o,n)||!this.radialPassLine(e,t.sub(e).normalize(),o,n))},e.createLayout=function(t,e,o,n){void 0===n&&(n=null),t=t||20,e=e||20,o=o||cc.Color.WHITE;var i=new cc.Node;return i.color=o,n&&(i.parent=n),cc.resources.load("default/panel",cc.SpriteFrame,function(o,n){if(o)cc.log("createLayout failed: "+o);else{var r=i.addComponent(cc.Sprite);r.spriteFrame=n,r.type=cc.Sprite.Type.SLICED,i.width=t,i.height=e}}),i},e.getCurrentSceneCanvas=function(){var t=cc.director.getScene();return cc.find("Canvas",t)},e.addtoCurrentScene=function(t,e){void 0===e&&(e=null),o.getCurrentSceneCanvas().addChild(t),null!=e?t.setPosition(e):t.setPosition(new cc.Vec2(0,0)),cc.log(t.x,t.y)},e.showDialogs=function(t){var e=cc.instantiate(t);return e.zIndex=1e3,o.addtoCurrentScene(e),e.script.show(),e},e.itemInList=function(t,e){for(var o=0;o<e.length;o++)if(e[o]==t)return!0;return!1},e.getWorldBoundingBox=function(t,e){void 0===e&&(e=1);var o=t.getBoundingBoxToWorld();return 1!=e&&(o.x=o.x+o.width*(1-e)/2,o.y=o.y+o.height*(1-e)/2,o.width=o.width*e,o.height=o.height*e),o},e.transformNumber=function(t){if(t>=1e3){var e=Math.floor(t/1e3);return t%=1e3,e+"."+Math.floor(t/100)+"K"}return t},e.randomInt=function(t,e){return Math.floor(Math.random()*(e-t))+t},e.randomIntEx=function(t){return o.randomInt(t[0],t[1])},e.randomFloat=function(t,e,o){void 0===o&&(o=3);var n=Math.pow(10,o);return t=Math.floor(t*n),e=Math.floor(e*n),(Math.floor(Math.random()*(e-t))+t)/n},e.randomFloatEx=function(t,e){return void 0===e&&(e=3),o.randomFloat(t[0],t[1],e)},e.rectScale=function(t,e){var o=t.clone();return o.x=o.x+o.width*(1-e)/2,o.y=o.y+o.height*(1-e)/2,o.width=o.width*e,o.height=o.height*e,o},e.addNotice=function(t){yyp.bundle.load("prefab/Tips",cc.Prefab,function(e,n){var i=cc.instantiate(n);i.zIndex=500,o.addtoCurrentScene(i),i.getComponent("Tips").doTips(t)})},e.isInList=function(t,e){for(var o=0;o<e.length;o++)if(t==e[o])return!0;return!1},e.getWorldPosition=function(t){return t.parent.convertToWorldSpaceAR(t.position)},e.doQAction=function(t){t.runAction(cc.sequence(cc.delayTime(1),cc.scaleTo(.1,1.2,1.2),cc.scaleTo(.1,1,1),cc.scaleTo(.05,1.05,1.05),cc.scaleTo(.02,1,1)).repeatForever())},e=o=i([a],e)}(cc.Component));o.Utils=s,cc._RF.pop()},{}],VIvoInsertAd:[function(t,e,o){"use strict";cc._RF.push(e,"01e79N9N55Np5E06BvpOlBi","VIvoInsertAd");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var i=t("../SDKConfig"),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.onLoad=function(){console.log(" \u63d2\u5c4f\u5e7f\u544a\u52a0\u8f7d\u6210\u529f"),this.setState(i.SDKState.loadSucess),this.show()},e.prototype.onError=function(t){console.log(" \u63d2\u5c4f\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25 ",t),this.setState(i.SDKState.loadFail)},e.prototype.create=function(t){var e=this;this.adUnitID=t,console.log(" show insert ad "),this.instance=qg.createInsertAd({posId:t}),this.instance.onLoad(this.onLoad.bind(this)),this.instance.onError(this.onError.bind(this)),this.instance.onError(function(t){console.log("\u63d2\u5c4f\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25",t)}),this.instance.show().then(function(){console.log("\u63d2\u5c4f\u5e7f\u544a\u5c55\u793a\u5b8c\u6210"),e.state=i.SDKState.open}).catch(function(t){e.state=i.SDKState.close,console.log("\u63d2\u5c4f\u5e7f\u544a\u5c55\u793a\u5931\u8d25",JSON.stringify(t))})},e.prototype.open=function(t,e){console.log("BaseInterstitialAd showAd this.state ",this.state),this.state=i.SDKState.loading,this.create(t)},e.prototype.load=function(){console.log(" load ad "),this.instance.load()},e.prototype.show=function(){console.log(" show ad "),this.instance.show()},e}(t("../base/BaseAd").default);o.default=r,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../base/BaseAd":"BaseAd"}],VivoBannerAd:[function(t,e,o){"use strict";cc._RF.push(e,"5446ellTGFAC45GcFa4DRaK","VivoBannerAd");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var i=t("../base/BaseAd"),r=t("../SDKConfig"),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.onError=function(t){console.log("banner onError",t),this.setState(r.SDKState.loadFail)},e.prototype.onLoad=function(){console.log("banner onLoad this.logicState ",this.logicState),this.setState(r.SDKState.loadSucess),this.logicState==r.SDKState.open||this.hide()},e.prototype.open=function(t){this.logicState=r.SDKState.open,this.state!=r.SDKState.loading?(this.state=r.SDKState.loading,this.destroy(),this.create(t)):console.log("showBanner \u6b63\u5728\u52a0\u8f7d\u4e2d")},e.prototype.close=function(){this.logicState=r.SDKState.close,this.state!=r.SDKState.loading?this.instance&&this.hide():console.log("hideBanner \u6b63\u5728\u52a0\u8f7d\u4e2d")},e.prototype.onResize=function(t){console.log("banner onResize",t)},e.prototype.show=function(){this.state=r.SDKState.open,this.instance&&this.instance.show(),console.log(" banner show ")},e.prototype.hide=function(){this.state=r.SDKState.close,this.instance&&this.instance.hide()},e.prototype.destroy=function(){this.instance&&(this.instance.offLoad(this.onLoad.bind(this)),this.instance.offError(this.onError.bind(this)),this.instance.offSize(this.onResize.bind(this)),this.instance.destroy(),this.instance=null)},e.prototype.create=function(t){var e=this;this.adUnitID=t;qg.getSystemInfoSync();this.instance=qg.createBannerAd({posId:t,style:{}}),this.instance.onLoad(this.onLoad.bind(this)),this.instance.onError(this.onError.bind(this)),this.instance.onSize(this.onResize.bind(this)),this.instance.show().then(function(){console.log("banner\u5e7f\u544a\u5c55\u793a\u5b8c\u6210"),e.setState(r.SDKState.open)}).catch(function(t){e.setState(r.SDKState.close),console.log("banner\u5e7f\u544a\u5c55\u793a\u5931\u8d25",JSON.stringify(t))})},e}(i.default);o.default=a,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../base/BaseAd":"BaseAd"}],VivoChannel:[function(t,e,o){"use strict";cc._RF.push(e,"60f0f4tPVBDw6bXhnh/nweP","VivoChannel");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var i=t("../base/BaseChannel"),r=t("../SDKConfig"),a=t("./VivoRewardAd"),s=t("./VivoBannerAd"),c=t("./VIvoInsertAd"),p=t("./VivoNativeAd"),u=function(t){function e(e){var o=t.call(this,e)||this;return qg.onShow(function(){console.log("VivoChannel  onShow ")}),qg.onHide(function(){console.log("VivoChannel  onHide ")}),console.log("qg ",qg),qg.createRewardedVideoAd&&(o.rewardAd=new a.default(o)),qg.createBannerAd&&(o.bannerAd=new s.default(o)),qg.createInsertAd&&(o.insertAd=new c.default(o)),qg.createNativeAd&&(o.nativeAd=new p.default(o)),o}return n(e,t),e.prototype.showToast=function(t){qg.showToast({message:t})},e.prototype.vibrateShort=function(){qg.vibrateShort({success:function(t){},fail:function(t){},complete:function(t){}})},e.prototype.canInstallShortcut=function(t){qg.hasShortcutInstalled({success:function(e){t(0==e?r.ResultState.YES:r.ResultState.NO)},fail:function(e){t(r.ResultState.NO)},complete:function(){}})},e.prototype.previewImage=function(t){qg.previewImage({uris:[t],success:function(t){cc.log("Preview image success.")}})},e.prototype.installShortcut=function(t){qg.installShortcut({success:function(){console.log(" \u5b89\u88c5\u6210\u529f "),t(r.ResultState.YES)},fail:function(e){console.log(" \u5b89\u88c5\u5931\u8d25 ",e),t(r.ResultState.NO)},complete:function(){}})},e.prototype.navigateToMiniProgram=function(t){qg.navigateToMiniGame({pkgName:t,success:function(){},fail:function(t){}})},e}(i.default);o.default=u,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../base/BaseChannel":"BaseChannel","./VIvoInsertAd":"VIvoInsertAd","./VivoBannerAd":"VivoBannerAd","./VivoNativeAd":"VivoNativeAd","./VivoRewardAd":"VivoRewardAd"}],VivoNativeAd:[function(t,e,o){"use strict";cc._RF.push(e,"a91ca7oPCxA3YUKQd9qWrWd","VivoNativeAd");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var i=t("../oppo/OppoNativeAdItemModel"),r=t("../base/BaseAd"),a=t("../SDKConfig"),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.adItems=[],e}return n(e,t),e.prototype.open=function(t,e){this.state=a.SDKState.loading,this.callback=e,this.create(t),this.load()},e.prototype.create=function(t){this.adUnitID=t,this.destroy(),console.log("VivoNativeAd create adUnitID ",t),this.instance=qg.createNativeAd({posId:t}),console.log(" VivoNativeAd  this.instance  ",this.instance),this.instance&&this.instance.onLoad(this.onLoad.bind(this))},e.prototype.close=function(){this.callback=null},e.prototype.onLoad=function(t){if(this.adItems.length=0,t&&t.adList){this.setState(a.SDKState.loadSucess);for(var e=0;e<t.adList.length;e++){var o=t.adList[e],n=new i.default;n.initWithOppo(o),this.reportAdShow(n.getID()),this.adItems.push(n)}this.callback&&this.callback(this.adItems)}else this.onError(null)},e.prototype.onError=function(t){this.setState(a.SDKState.loadFail),console.log(" BaseNativeAd onError err ",t),this.callback&&this.callback([])},e.prototype.load=function(){this.instance&&this.instance.load()},e.prototype.reportAdClick=function(t){this.instance&&(console.log("reportAdClick ",t),this.instance.reportAdClick({adId:t}))},e.prototype.reportAdShow=function(t){this.instance&&(console.log("reportAdShow ",t),this.instance.reportAdShow({adId:t}))},e.prototype.destroy=function(){this.instance&&(this.instance.offLoad&&this.instance.offLoad(this.onLoad.bind(this)),this.instance.offError&&this.instance.offError(this.onError.bind(this)),this.instance.destroy&&this.instance.destroy(),this.instance=null)},e}(r.default);o.default=s,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../base/BaseAd":"BaseAd","../oppo/OppoNativeAdItemModel":"OppoNativeAdItemModel"}],VivoRewardAd:[function(t,e,o){"use strict";cc._RF.push(e,"c340935TdpCLZNAXdb8LwJ7","VivoRewardAd");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var i=t("../SDKConfig"),r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.loadCount=0,e}return n(e,t),e.prototype.open=function(t,e){console.log(" showReward adID ",t),this.callback=e,this.setState(i.SDKState.loading),this.adUnitID!=t?(this.adUnitID=t,this.createVideoAd(t)):this.show()},e.prototype.createVideoAd=function(t){this.loadCount=0,console.log(" \u4e0d\u652f\u6301\u591a\u4f8b"),null==this.instance?(this.instance=qg.createRewardedVideoAd({posId:t}),this.instance.onLoad(this.onLoad.bind(this)),this.instance.onError(this.onError.bind(this)),this.instance.onClose(this.onClose.bind(this)),console.log(" \u521b\u5efa\u6210\u529f")):(console.log(" \u4e3b\u52a8\u52a0\u8f7d"),this.instance.load())},e.prototype.onError=function(t){console.log("QQVideoAd error ",t),this.setState(i.SDKState.loadFail),this.callback&&this.callback(i.ResultState.NO)},e.prototype.onLoad=function(){console.log("\u89c6\u9891\u52a0\u8f7d\u6210\u529f ",this.loadCount),this.setState(i.SDKState.loadSucess),this.show(),this.loadCount++},e.prototype.onClose=function(t){this.setState(i.SDKState.close),t&&t.isEnded||void 0===t?(console.log("\u89c6\u9891\u7ed3\u675f\u5173\u95ed "),this.callback&&this.callback(i.ResultState.YES)):(console.log("\u89c6\u9891\u4e2d\u9014\u5173\u95ed "),this.callback&&this.callback(i.ResultState.NO))},e.prototype.show=function(){var t=this;this.instance?this.instance.show().then(function(){t.setState(i.SDKState.open),console.log(" \u6fc0\u52b1\u89c6\u9891\u5c55\u793a\u6210\u529f ")}).catch(function(){console.log(" show  \u6fc0\u52b1\u89c6\u9891 \u64ad\u653e\u5931\u8d25\u91cd\u8bd5"),t.instance.load().then(function(){t.instance.show(),t.setState(i.SDKState.open)}).catch(function(e){console.log(" \u6fc0\u52b1\u89c6\u9891\u91cd\u8bd5\u5931\u8d25 err ",e),t.setState(i.SDKState.loadFail)})}):this.callback(i.ResultState.NO)},e}(t("../base/BaseAd").default);o.default=r,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../base/BaseAd":"BaseAd"}],WXBannerAd:[function(t,e,o){"use strict";cc._RF.push(e,"ed6a9ih0F9DNr3E+yW0RPQi","WXBannerAd");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var i=t("../base/BaseAd"),r=t("../SDKConfig"),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.onResize=function(t){console.log("banner onResize",t)},e.prototype.reLoad=function(){var t=this,e=setTimeout(function(){t.create(t.adUnitID),clearTimeout(e)},8e3)},e.prototype.open=function(t){this.logicState=r.SDKState.open,this.state!=r.SDKState.open&&(this.state==r.SDKState.loading&&(this.clickCount++,this.clickCount<3)||(this.clickCount=0,this.state=r.SDKState.loading,this.adUnitID!=t?(this.destroy(),this.create(t)):(this.showCount++,this.showCount>3?(this.showCount=0,this.destroy(),this.create(t)):this.show())))},e.prototype.close=function(){this.logicState=r.SDKState.close,this.state!=r.SDKState.close&&this.instance&&this.hide()},e.prototype.show=function(){this.state=r.SDKState.open,this.instance&&this.instance.show()},e.prototype.hide=function(){this.state=r.SDKState.close,this.instance&&this.instance.hide()},e.prototype.destroy=function(){this.instance&&(this.instance.offLoad(this.onLoad.bind(this)),this.instance.offError(this.onError.bind(this)),this.instance.offResize(this.onResize.bind(this)),this.instance.destroy(),this.instanceMap[this.adUnitID]=null)},e.prototype.create=function(t,e){this.adUnitID=t;var o=wx.getSystemInfoSync();this.instanceMap[t]||(this.instance=wx.createBannerAd({adUnitId:t,adIntervals:30,style:{left:(o.windowWidth-350)/2,top:o.windowHeight-130,width:350}}),this.instance.onLoad(this.onLoad.bind(this)),this.instance.onError(this.onError.bind(this)),this.instance.onResize(this.onResize.bind(this)),this.instanceMap[t]=this.instance)},e.prototype.onError=function(t){console.log("banner onError",t),this.setState(r.SDKState.loadFail),this.reLoad()},e.prototype.onLoad=function(){console.log("banner onLoad"),this.setState(r.SDKState.loadSucess),this.logicState==r.SDKState.open?this.show():this.hide()},e}(i.default);o.default=a,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../base/BaseAd":"BaseAd"}],WXChannel:[function(t,e,o){"use strict";cc._RF.push(e,"67a54mTFKVHuIpoWbc32QeK","WXChannel");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var i=t("../base/BaseChannel"),r=t("./WXBannerAd"),a=t("./WXRewardedVideoAd"),s=t("./WXShare"),c=t("./WXlogin"),p=t("./WXScreenshot"),u=function(t){function e(e){var o=t.call(this,e)||this;return wx.createBannerAd&&(o.bannerAd=new r.default(o)),wx.createRewardedVideoAd&&(o.rewardAd=new a.default(o)),wx.shareAppMessage&&(o.share=new s.default(o)),o.loginMgr=new c.default(o),o.screenshot=new p.default(o),o}return n(e,t),e.prototype.vibrateShort=function(){wx.vibrateShort()},e.prototype.previewImage=function(t){wx.previewImage({current:t,urls:[t]})},e.prototype.navigateToMiniProgram=function(t){wx.navigateToMiniProgram({appId:t,success:function(){}})},e.prototype.showToast=function(t){wx.showToast({title:t})},e.prototype.postMessage=function(t){var e=wx.getOpenDataContext();e&&(t.channelID=this.channelID,e.postMessage(t))},e}(i.default);o.default=u,cc._RF.pop()},{"../base/BaseChannel":"BaseChannel","./WXBannerAd":"WXBannerAd","./WXRewardedVideoAd":"WXRewardedVideoAd","./WXScreenshot":"WXScreenshot","./WXShare":"WXShare","./WXlogin":"WXlogin"}],WXInterstitialAd:[function(t,e,o){"use strict";cc._RF.push(e,"c26b7kpHKpF0bNLjT06c43E","WXInterstitialAd");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var i=t("../base/BaseAd"),r=t("../SDKConfig"),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.open=function(t){this.state!=r.SDKState.open&&this.state!=r.SDKState.loading&&(console.log("BaseInterstitialAd showAd adUnitID ",this.adUnitID),this.state=r.SDKState.loading,this.create(t),this.load())},e.prototype.onLoad=function(){console.log(" \u63d2\u5c4f\u5e7f\u544a\u52a0\u8f7d\u6210\u529f"),this.setState(r.SDKState.loadSucess),this.show()},e.prototype.onError=function(t){console.log(" \u63d2\u5c4f\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25 ",t),this.setState(r.SDKState.loadFail)},e.prototype.onClose=function(){this.setState(r.SDKState.close)},e.prototype.load=function(){this.instance&&this.instance.load()},e.prototype.show=function(){this.instance&&(this.setState(r.SDKState.open),this.instance.show())},e.prototype.destroy=function(){this.instance&&(this.instance.offLoad(this.onLoad.bind(this)),this.instance.offClose(this.onClose.bind(this)),this.instance.offError(this.onError.bind(this)),this.instance.destroy(),this.instanceMap[this.adUnitID]=null,this.instance=null)},e.prototype.create=function(t){this.adUnitID=t,this.instanceMap[t]||(this.instance=wx.createInterstitialAd({adUnitId:t}),this.instance.onLoad(this.onLoad.bind(this)),this.instance.onError(this.onError.bind(this)),this.instance.onClose(this.onClose.bind(this)),this.instanceMap[t]=this.instance)},e}(i.default);o.default=a,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../base/BaseAd":"BaseAd"}],WXRewardedVideoAd:[function(t,e,o){"use strict";cc._RF.push(e,"2c39ebadvVIFZO5Wxs+RyzC","WXRewardedVideoAd");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var i=t("../base/BaseAd"),r=t("../SDKConfig"),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.loadCount=0,e}return n(e,t),e.prototype.open=function(t,e){console.log(" showReward adID ",t),this.state!=r.SDKState.loading&&(this.callback=e,this.setState(r.SDKState.loading),this.adUnitID!=t?this.create(t):this.show())},e.prototype.onError=function(t){console.log("WXVideoAd error ",t),this.setState(r.SDKState.loadFail),r.USE_SHARE&&this.channel.hasShare()?this.channel.showShare(0,this.callback):this.callback&&this.callback(r.ResultState.NO)},e.prototype.onLoad=function(){console.log("\u89c6\u9891\u52a0\u8f7d\u6210\u529f ",this.loadCount),0==this.loadCount&&(this.instance.show(),this.setState(r.SDKState.loadSucess)),this.loadCount++},e.prototype.onClose=function(t){this.setState(r.SDKState.close),t&&t.isEnded||void 0===t?(console.log("\u89c6\u9891\u7ed3\u675f\u5173\u95ed "),this.callback&&this.callback(r.ResultState.YES)):(console.log("\u89c6\u9891\u4e2d\u9014\u5173\u95ed "),this.callback&&this.callback(r.ResultState.NO))},e.prototype.destroy=function(){this.instance&&(this.instance.offLoad(this.onLoad.bind(this)),this.instance.offError(this.onError.bind(this)),this.instance.offClose(this.onClose.bind(this)),this.instance.destroy(),this.instanceMap[this.adUnitID]=null,this.instance=null)},e.prototype.create=function(t){this.adUnitID=t,this.loadCount=0;var e=wx.getSystemInfoSync().SDKVersion;this.instanceMap[t]?this.instance.load():(r.compareVersion(e,"2.8.0")?this.instance=wx.createRewardedVideoAd({adUnitId:t,multiton:!0}):(console.log(" \u4e0d\u652f\u6301\u591a\u4f8b"),this.instance=wx.createRewardedVideoAd({adUnitId:t})),this.instance.onLoad(this.onLoad.bind(this)),this.instance.onError(this.onError.bind(this)),this.instance.onClose(this.onClose.bind(this)),this.instanceMap[t]=this.instance)},e.prototype.show=function(){var t=this;this.instance.show().then(function(){t.setState(r.SDKState.open),console.log(" \u6fc0\u52b1\u89c6\u9891\u5c55\u793a\u6210\u529f ")}).catch(function(){console.log(" show  \u6fc0\u52b1\u89c6\u9891 \u64ad\u653e\u5931\u8d25\u91cd\u8bd5"),t.instance.load().then(function(){t.setState(r.SDKState.open),t.instance.show()}).catch(function(e){console.log(" \u6fc0\u52b1\u89c6\u9891\u91cd\u8bd5\u5931\u8d25 err ",e),t.setState(r.SDKState.loadFail)})})},e}(i.default);o.default=a,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../base/BaseAd":"BaseAd"}],WXScreenshot:[function(t,e,o){"use strict";cc._RF.push(e,"3ef6656vkFBNb4TZ6nB68bJ","WXScreenshot");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.showImage=function(t){this.channel.previewImage(t)},e.prototype.createImage=function(){console.log(" createImage ");var t=this.getCanvas();return{x:0,y:0,width:t.width,height:t.height,destWidth:t.width,destHeight:t.height,fileType:"png",quality:1}},e.prototype.saveFile=function(t,e){var o=this;console.log(" saveFile data ",t,e);var n=this.getCanvas();if(n.toTempFilePathSync){var i=n.toTempFilePathSync(t);console.log(" _tempFilePath ",i),wx.saveImageToPhotosAlbum({filePath:i,success:function(t){console.log("Capture file success!"+i,t),e&&o.showImage(i)}})}},e}(t("../base/BaseScreenshot").default);o.default=i,cc._RF.pop()},{"../base/BaseScreenshot":"BaseScreenshot"}],WXShare:[function(t,e,o){"use strict";cc._RF.push(e,"c3021cGmrJJI5p9na6gvQ1F","WXShare");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var i=t("../base/BaseShare"),r=t("../SDKConfig"),a=function(t){function e(e){var o=t.call(this,e)||this;return o.time=0,wx.showShareMenu({withShareTicket:!0}),wx.updateShareMenu({withShareTicket:!0}),wx.onShow(function(){o.backGame()}),wx.onShareAppMessage(function(){return o.getData(0)}),o}return n(e,t),e.prototype.share=function(t,e,o){this.callback=e,wx.shareAppMessage(this.getData(t)),this.state=r.SDKState.open,this.time=Date.now()},e.prototype.getData=function(t){return{title:this.channel.getParam(t,r.ADName.shareTitle),imageUrl:this.channel.getParam(t,r.ADName.shareImage),imageUrlId:this.channel.getParam(t,r.ADName.shareImageId)}},e.prototype.backGame=function(){this.state==r.SDKState.open&&(this.state=r.SDKState.close,this.callback&&(Date.now()-this.time>=3e3?this.callback(r.ResultState.YES):this.callback(r.ResultState.NO),this.callback=null))},e.prototype.getShareInfo=function(t,e){t&&wx.getShareInfo({shareTicket:t,success:function(t){e(t)},fail:function(){}})},e}(i.BaseShare);o.default=a,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../base/BaseShare":"BaseShare"}],WXSubPackage:[function(t,e,o){"use strict";cc._RF.push(e,"858acKXiSNAE4ZwqCwA4rZw","WXSubPackage");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var i=t("../base/BaseSubPackage"),r=t("../SDKConfig"),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.loadSingle=function(t,e){wx.loadSubpackage({name:t,success:function(t){e(r.ResultState.YES,null)},fail:function(t){e(r.ResultState.NO,null)}}).onProgressUpdate(function(t){e(r.ResultState.PROGRESS,t.progress)})},e}(i.default);o.default=a,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../base/BaseSubPackage":"BaseSubPackage"}],WXlogin:[function(t,e,o){"use strict";cc._RF.push(e,"69dbaoJkVZPlaXl9S4SqlvF","WXlogin");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var i=t("../base/BaseLogin"),r=t("../SDKConfig"),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.checkSession=function(t){wx.checkSession({success:function(e){console.log("session\u672a\u8fc7\u671f"),t(r.ResultState.YES)},fail:function(e){console.log("session\u5df2\u8fc7\u671f\uff0c\u9700\u8981\u91cd\u65b0\u767b\u5f55"),t(r.ResultState.NO)}})},e.prototype.login=function(t,e){wx.login({force:!1,success:function(t){console.log("login\u8c03\u7528\u6210\u529f"+t.code+" "+t.anonymousCode),e(r.ResultState.YES)},fail:function(t){e(r.ResultState.YES)}})},e.prototype.getUserInfo=function(t,e,o){wx.getUserInfo({withCredentials:t,lang:e,success:function(t){console.log("getUserInfo\u8c03\u7528\u6210\u529f"+t.userInfo),o(r.ResultState.YES,t)},fail:function(t){console.log("getUserInfo\u8c03\u7528\u5931\u8d25",t),o(r.ResultState.NO,null)}})},e.prototype.logout=function(){},e}(i.default);o.default=a,cc._RF.pop()},{"../SDKConfig":"SDKConfig","../base/BaseLogin":"BaseLogin"}],Wish:[function(t,e,o){"use strict";cc._RF.push(e,"526b4bIbZhJ+qWxvAdc+XIQ","Wish");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.Wish=void 0;var r=t("../script/base/Utils"),a=t("../script/base/Dialogs"),s=t("../script/base/AnalyticsManager"),c=cc._decorator,p=c.ccclass,u=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._inRotation=!1,e._rotationTime=0,e._baseAngle=45,e._accelerate=.25,e._deceleration=0,e._speed=0,e._speedType=0,e._resultIndex=3,e}return n(e,t),e.prototype.onLoad=function(){this._initVariable(),this._initUI(),this._initEvent()},e.prototype.onDestroy=function(){this._destroyEvent()},e.prototype._initVariable=function(){},e.prototype._initUI=function(){r.Utils.doQAction(this._fire._btnStart);for(var t=1;t<=8;t++){var e=this._fire["_award"+t],o=this._baseAngle*(t-1);e.angle=o-90;var n=r.Utils.degressToVectors(o);e.position=n.mul(150)}},e.prototype._initEvent=function(){},e.prototype._destroyEvent=function(){},e.prototype.onStartClick=function(t){cc.log("+++++++++++++++++++"),this._resultIndex=r.Utils.randomInt(1,9),s.AnalyticsManager.clickEvent("wishstart"),this._speedType=1,this._inRotation=!0,this._fire._btnStart.stopAllActions(),this._fire._btnStart.$Button.interactable=!1},e.prototype.getAngle=function(t){var e=this._baseAngle*(t-1)*-1+90;return r.Utils.correctionAngle360(e)},e.prototype.getDeceleration=function(t){t>this._fire._wishPanel.angle&&(t-=360);var e=Math.abs(t-this._fire._wishPanel.angle);return e<180&&(e+=360),cc.log(e),this._speed*this._speed/(2*e+this._speed)},e.prototype._reset=function(){this._fire._btnStart.$Button.interactable=!0,r.Utils.doQAction(this._fire._btnStart),this._speedType=0,this._speed,this._inRotation=!1,this._rotationTime=0},e.prototype.afterGap=function(t,e){for(var o=1;o<=8;o++){var n=this._baseAngle*(o-.5);if(t>=n&&e<=n)return!0}return!1},e.prototype.update=function(t){if(this._inRotation){if(this._rotationTime+=t,1==this._speedType)this._speed+=this._accelerate,this._rotationTime>=1&&(this._speedType=2);else if(2==this._speedType){if(this._rotationTime>=2){this._speedType=3;var e=this.getAngle(this._resultIndex);return void(this._deceleration=this.getDeceleration(e))}}else 3==this._speedType&&(this._speed-=this._deceleration,this._speed=this._speed<0?0:this._speed,0==this._speed&&(yyp.eventCenter.emit("add-coin",{count:10*this._resultIndex,position:r.Utils.getWorldPosition(this._fire["_award"+this._resultIndex]),p:"\u8f6c\u76d8\u83b7\u53d6"}),this._reset()));var o=this._fire._wishPanel.angle,n=r.Utils.correctionAngle360(this._fire._wishPanel.angle-this._speed);this._fire._wishPanel.angle=n,this.afterGap(o,n)&&(this._fire._wishArrow.stopAllActions(),this._fire._wishArrow.runAction(cc.sequence(cc.rotateTo(.03,-30),cc.rotateTo(.03,0))))}},e=i([p],e)}(a.Dialogs));o.Wish=u,cc._RF.pop()},{"../script/base/AnalyticsManager":"AnalyticsManager","../script/base/Dialogs":"Dialogs","../script/base/Utils":"Utils"}]},{},["Bg","CoinItem","Cube","CubeItem","DataFormat","EditScene","GameFinish","GameLogic","GameMain","GameMap","GameScene","GroupMap","LvChoose","MapChoose","PageBtn","PaintMap","Setting","Tips","AnalyticsManager","BaseComponent","Dialogs","LinkPrefab","LocalizedData","MusicManager","Utils","Music","Main","TextureRenderInterface","ScreenshotComp","TextureRenderUtils","SDKConfig","SDKManager","BaseAd","BaseChannel","BaseLogin","BaseNativeAdItemModel","BaseRecorder","BaseSDK","BaseScreenshot","BaseShare","BaseSubPackage","BDChannel","BDRewardAd","BDScreenshot","BDSubPackage","BannerAdComp","InsertAdComp","InstallIconComp","NativeAdItemView","NativeComp","RecorderComp","RewardAdComp","ScreenshotComponent","ShareComp","ChannelItemModel","DevChannel","OppoBannerAd","OppoChannel","OppoInsertAd","OppoNativeAd","OppoNativeAdItemModel","OppoRewardAd","OppoScreenshot","OppoSubPackage","QQAppBoxAd","QQBanner","QQChannel","QQInterstitialAd","QQScreenshot","QQShare","QQSubPackage","QQVideoAd","TTBanner","TTChannel","TTInsertAd","TTLogin","TTRecorder","TTScreenshot","TTShare","TTVideoAd","VIvoInsertAd","VivoBannerAd","VivoChannel","VivoNativeAd","VivoRewardAd","WXBannerAd","WXChannel","WXInterstitialAd","WXRewardedVideoAd","WXScreenshot","WXShare","WXSubPackage","WXlogin","BannerView","FunctionView","HomeView","NativeView","Wish"]);